(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.adapter=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var _adapter_factory=require('./adapter_factory.js');var adapter=(0,_adapter_factory.adapterFactory)({window:typeof window==='undefined'?undefined:window});module.exports=adapter},{"./adapter_factory.js":2}],2:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.adapterFactory=adapterFactory;var _utils=require('./utils');var utils=_interopRequireWildcard(_utils);var _chrome_shim=require('./chrome/chrome_shim');var chromeShim=_interopRequireWildcard(_chrome_shim);var _firefox_shim=require('./firefox/firefox_shim');var firefoxShim=_interopRequireWildcard(_firefox_shim);var _safari_shim=require('./safari/safari_shim');var safariShim=_interopRequireWildcard(_safari_shim);var _common_shim=require('./common_shim');var commonShim=_interopRequireWildcard(_common_shim);var _sdp=require('sdp');var sdp=_interopRequireWildcard(_sdp);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function adapterFactory(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},window=_ref.window;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{shimChrome:true,shimFirefox:true,shimSafari:true};var logging=utils.log;var browserDetails=utils.detectBrowser(window);var adapter={browserDetails:browserDetails,commonShim:commonShim,extractVersion:utils.extractVersion,disableLog:utils.disableLog,disableWarnings:utils.disableWarnings,sdp:sdp};switch(browserDetails.browser){case'chrome':if(!chromeShim||!chromeShim.shimPeerConnection||!options.shimChrome){logging('Chrome shim is not included in this adapter release.');return adapter}if(browserDetails.version===null){logging('Chrome shim can not determine version, not shimming.');return adapter}logging('adapter.js shimming chrome.');adapter.browserShim=chromeShim;commonShim.shimAddIceCandidateNullOrEmpty(window,browserDetails);commonShim.shimParameterlessSetLocalDescription(window,browserDetails);chromeShim.shimGetUserMedia(window,browserDetails);chromeShim.shimMediaStream(window,browserDetails);chromeShim.shimPeerConnection(window,browserDetails);chromeShim.shimOnTrack(window,browserDetails);chromeShim.shimAddTrackRemoveTrack(window,browserDetails);chromeShim.shimGetSendersWithDtmf(window,browserDetails);chromeShim.shimGetStats(window,browserDetails);chromeShim.shimSenderReceiverGetStats(window,browserDetails);chromeShim.fixNegotiationNeeded(window,browserDetails);commonShim.shimRTCIceCandidate(window,browserDetails);commonShim.shimRTCIceCandidateRelayProtocol(window,browserDetails);commonShim.shimConnectionState(window,browserDetails);commonShim.shimMaxMessageSize(window,browserDetails);commonShim.shimSendThrowTypeError(window,browserDetails);commonShim.removeExtmapAllowMixed(window,browserDetails);break;case'firefox':if(!firefoxShim||!firefoxShim.shimPeerConnection||!options.shimFirefox){logging('Firefox shim is not included in this adapter release.');return adapter}logging('adapter.js shimming firefox.');adapter.browserShim=firefoxShim;commonShim.shimAddIceCandidateNullOrEmpty(window,browserDetails);commonShim.shimParameterlessSetLocalDescription(window,browserDetails);firefoxShim.shimGetUserMedia(window,browserDetails);firefoxShim.shimPeerConnection(window,browserDetails);firefoxShim.shimOnTrack(window,browserDetails);firefoxShim.shimRemoveStream(window,browserDetails);firefoxShim.shimSenderGetStats(window,browserDetails);firefoxShim.shimReceiverGetStats(window,browserDetails);firefoxShim.shimRTCDataChannel(window,browserDetails);firefoxShim.shimAddTransceiver(window,browserDetails);firefoxShim.shimGetParameters(window,browserDetails);firefoxShim.shimCreateOffer(window,browserDetails);firefoxShim.shimCreateAnswer(window,browserDetails);commonShim.shimRTCIceCandidate(window,browserDetails);commonShim.shimConnectionState(window,browserDetails);commonShim.shimMaxMessageSize(window,browserDetails);commonShim.shimSendThrowTypeError(window,browserDetails);break;case'safari':if(!safariShim||!options.shimSafari){logging('Safari shim is not included in this adapter release.');return adapter}logging('adapter.js shimming safari.');adapter.browserShim=safariShim;commonShim.shimAddIceCandidateNullOrEmpty(window,browserDetails);commonShim.shimParameterlessSetLocalDescription(window,browserDetails);safariShim.shimRTCIceServerUrls(window,browserDetails);safariShim.shimCreateOfferLegacy(window,browserDetails);safariShim.shimCallbacksAPI(window,browserDetails);safariShim.shimLocalStreamsAPI(window,browserDetails);safariShim.shimRemoteStreamsAPI(window,browserDetails);safariShim.shimTrackEventTransceiver(window,browserDetails);safariShim.shimGetUserMedia(window,browserDetails);safariShim.shimAudioContext(window,browserDetails);commonShim.shimRTCIceCandidate(window,browserDetails);commonShim.shimRTCIceCandidateRelayProtocol(window,browserDetails);commonShim.shimMaxMessageSize(window,browserDetails);commonShim.shimSendThrowTypeError(window,browserDetails);commonShim.removeExtmapAllowMixed(window,browserDetails);break;default:logging('Unsupported browser!');break}return adapter}},{"./chrome/chrome_shim":3,"./common_shim":6,"./firefox/firefox_shim":7,"./safari/safari_shim":10,"./utils":11,"sdp":12}],3:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.shimGetDisplayMedia=exports.shimGetUserMedia=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _getusermedia=require('./getusermedia');Object.defineProperty(exports,'shimGetUserMedia',{enumerable:true,get:function get(){return _getusermedia.shimGetUserMedia}});var _getdisplaymedia=require('./getdisplaymedia');Object.defineProperty(exports,'shimGetDisplayMedia',{enumerable:true,get:function get(){return _getdisplaymedia.shimGetDisplayMedia}});exports.shimMediaStream=shimMediaStream;exports.shimOnTrack=shimOnTrack;exports.shimGetSendersWithDtmf=shimGetSendersWithDtmf;exports.shimGetStats=shimGetStats;exports.shimSenderReceiverGetStats=shimSenderReceiverGetStats;exports.shimAddTrackRemoveTrackWithNative=shimAddTrackRemoveTrackWithNative;exports.shimAddTrackRemoveTrack=shimAddTrackRemoveTrack;exports.shimPeerConnection=shimPeerConnection;exports.fixNegotiationNeeded=fixNegotiationNeeded;var _utils=require('../utils.js');var utils=_interopRequireWildcard(_utils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function shimMediaStream(window){window.MediaStream=window.MediaStream||window.webkitMediaStream}function shimOnTrack(window){if((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCPeerConnection&&!('ontrack'in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,'ontrack',{get:function get(){return this._ontrack},set:function set(f){if(this._ontrack){this.removeEventListener('track',this._ontrack)}this.addEventListener('track',this._ontrack=f)},enumerable:true,configurable:true});var origSetRemoteDescription=window.RTCPeerConnection.prototype.setRemoteDescription;window.RTCPeerConnection.prototype.setRemoteDescription=function setRemoteDescription(){var _this=this;if(!this._ontrackpoly){this._ontrackpoly=function(e){e.stream.addEventListener('addtrack',function(te){var receiver=void 0;if(window.RTCPeerConnection.prototype.getReceivers){receiver=_this.getReceivers().find(function(r){return r.track&&r.track.id===te.track.id})}else{receiver={track:te.track}}var event=new Event('track');event.track=te.track;event.receiver=receiver;event.transceiver={receiver:receiver};event.streams=[e.stream];_this.dispatchEvent(event)});e.stream.getTracks().forEach(function(track){var receiver=void 0;if(window.RTCPeerConnection.prototype.getReceivers){receiver=_this.getReceivers().find(function(r){return r.track&&r.track.id===track.id})}else{receiver={track:track}}var event=new Event('track');event.track=track;event.receiver=receiver;event.transceiver={receiver:receiver};event.streams=[e.stream];_this.dispatchEvent(event)})};this.addEventListener('addstream',this._ontrackpoly)}return origSetRemoteDescription.apply(this,arguments)}}else{utils.wrapPeerConnectionEvent(window,'track',function(e){if(!e.transceiver){Object.defineProperty(e,'transceiver',{value:{receiver:e.receiver}})}return e})}}function shimGetSendersWithDtmf(window){if((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCPeerConnection&&!('getSenders'in window.RTCPeerConnection.prototype)&&'createDTMFSender'in window.RTCPeerConnection.prototype){var shimSenderWithDtmf=function shimSenderWithDtmf(pc,track){return{track:track,get dtmf(){if(this._dtmf===undefined){if(track.kind==='audio'){this._dtmf=pc.createDTMFSender(track)}else{this._dtmf=null}}return this._dtmf},_pc:pc}};if(!window.RTCPeerConnection.prototype.getSenders){window.RTCPeerConnection.prototype.getSenders=function getSenders(){this._senders=this._senders||[];return this._senders.slice()};var origAddTrack=window.RTCPeerConnection.prototype.addTrack;window.RTCPeerConnection.prototype.addTrack=function addTrack(track,stream){var sender=origAddTrack.apply(this,arguments);if(!sender){sender=shimSenderWithDtmf(this,track);this._senders.push(sender)}return sender};var origRemoveTrack=window.RTCPeerConnection.prototype.removeTrack;window.RTCPeerConnection.prototype.removeTrack=function removeTrack(sender){origRemoveTrack.apply(this,arguments);var idx=this._senders.indexOf(sender);if(idx!==-1){this._senders.splice(idx,1)}}}var origAddStream=window.RTCPeerConnection.prototype.addStream;window.RTCPeerConnection.prototype.addStream=function addStream(stream){var _this2=this;this._senders=this._senders||[];origAddStream.apply(this,[stream]);stream.getTracks().forEach(function(track){_this2._senders.push(shimSenderWithDtmf(_this2,track))})};var origRemoveStream=window.RTCPeerConnection.prototype.removeStream;window.RTCPeerConnection.prototype.removeStream=function removeStream(stream){var _this3=this;this._senders=this._senders||[];origRemoveStream.apply(this,[stream]);stream.getTracks().forEach(function(track){var sender=_this3._senders.find(function(s){return s.track===track});if(sender){_this3._senders.splice(_this3._senders.indexOf(sender),1)}})}}else if((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCPeerConnection&&'getSenders'in window.RTCPeerConnection.prototype&&'createDTMFSender'in window.RTCPeerConnection.prototype&&window.RTCRtpSender&&!('dtmf'in window.RTCRtpSender.prototype)){var origGetSenders=window.RTCPeerConnection.prototype.getSenders;window.RTCPeerConnection.prototype.getSenders=function getSenders(){var _this4=this;var senders=origGetSenders.apply(this,[]);senders.forEach(function(sender){return sender._pc=_this4});return senders};Object.defineProperty(window.RTCRtpSender.prototype,'dtmf',{get:function get(){if(this._dtmf===undefined){if(this.track.kind==='audio'){this._dtmf=this._pc.createDTMFSender(this.track)}else{this._dtmf=null}}return this._dtmf}})}}function shimGetStats(window){if(!window.RTCPeerConnection){return}var origGetStats=window.RTCPeerConnection.prototype.getStats;window.RTCPeerConnection.prototype.getStats=function getStats(){var _this5=this;var _arguments=Array.prototype.slice.call(arguments),selector=_arguments[0],onSucc=_arguments[1],onErr=_arguments[2];if(arguments.length>0&&typeof selector==='function'){return origGetStats.apply(this,arguments)}if(origGetStats.length===0&&(arguments.length===0||typeof selector!=='function')){return origGetStats.apply(this,[])}var fixChromeStats_=function fixChromeStats_(response){var standardReport={};var reports=response.result();reports.forEach(function(report){var standardStats={id:report.id,timestamp:report.timestamp,type:{localcandidate:'local-candidate',remotecandidate:'remote-candidate'}[report.type]||report.type};report.names().forEach(function(name){standardStats[name]=report.stat(name)});standardReport[standardStats.id]=standardStats});return standardReport};var makeMapStats=function makeMapStats(stats){return new Map(Object.keys(stats).map(function(key){return[key,stats[key]]}))};if(arguments.length>=2){var successCallbackWrapper_=function successCallbackWrapper_(response){onSucc(makeMapStats(fixChromeStats_(response)))};return origGetStats.apply(this,[successCallbackWrapper_,selector])}return new Promise(function(resolve,reject){origGetStats.apply(_this5,[function(response){resolve(makeMapStats(fixChromeStats_(response)))},reject])}).then(onSucc,onErr)}}function shimSenderReceiverGetStats(window){if(!((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCPeerConnection&&window.RTCRtpSender&&window.RTCRtpReceiver)){return}if(!('getStats'in window.RTCRtpSender.prototype)){var origGetSenders=window.RTCPeerConnection.prototype.getSenders;if(origGetSenders){window.RTCPeerConnection.prototype.getSenders=function getSenders(){var _this6=this;var senders=origGetSenders.apply(this,[]);senders.forEach(function(sender){return sender._pc=_this6});return senders}}var origAddTrack=window.RTCPeerConnection.prototype.addTrack;if(origAddTrack){window.RTCPeerConnection.prototype.addTrack=function addTrack(){var sender=origAddTrack.apply(this,arguments);sender._pc=this;return sender}}window.RTCRtpSender.prototype.getStats=function getStats(){var sender=this;return this._pc.getStats().then(function(result){return(utils.filterStats(result,sender.track,true))})}}if(!('getStats'in window.RTCRtpReceiver.prototype)){var origGetReceivers=window.RTCPeerConnection.prototype.getReceivers;if(origGetReceivers){window.RTCPeerConnection.prototype.getReceivers=function getReceivers(){var _this7=this;var receivers=origGetReceivers.apply(this,[]);receivers.forEach(function(receiver){return receiver._pc=_this7});return receivers}}utils.wrapPeerConnectionEvent(window,'track',function(e){e.receiver._pc=e.srcElement;return e});window.RTCRtpReceiver.prototype.getStats=function getStats(){var receiver=this;return this._pc.getStats().then(function(result){return utils.filterStats(result,receiver.track,false)})}}if(!('getStats'in window.RTCRtpSender.prototype&&'getStats'in window.RTCRtpReceiver.prototype)){return}var origGetStats=window.RTCPeerConnection.prototype.getStats;window.RTCPeerConnection.prototype.getStats=function getStats(){if(arguments.length>0&&arguments[0]instanceof window.MediaStreamTrack){var track=arguments[0];var sender=void 0;var receiver=void 0;var err=void 0;this.getSenders().forEach(function(s){if(s.track===track){if(sender){err=true}else{sender=s}}});this.getReceivers().forEach(function(r){if(r.track===track){if(receiver){err=true}else{receiver=r}}return r.track===track});if(err||sender&&receiver){return Promise.reject(new DOMException('There are more than one sender or receiver for the track.','InvalidAccessError'))}else if(sender){return sender.getStats()}else if(receiver){return receiver.getStats()}return Promise.reject(new DOMException('There is no sender or receiver for the track.','InvalidAccessError'))}return origGetStats.apply(this,arguments)}}function shimAddTrackRemoveTrackWithNative(window){window.RTCPeerConnection.prototype.getLocalStreams=function getLocalStreams(){var _this8=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{};return Object.keys(this._shimmedLocalStreams).map(function(streamId){return _this8._shimmedLocalStreams[streamId][0]})};var origAddTrack=window.RTCPeerConnection.prototype.addTrack;window.RTCPeerConnection.prototype.addTrack=function addTrack(track,stream){if(!stream){return origAddTrack.apply(this,arguments)}this._shimmedLocalStreams=this._shimmedLocalStreams||{};var sender=origAddTrack.apply(this,arguments);if(!this._shimmedLocalStreams[stream.id]){this._shimmedLocalStreams[stream.id]=[stream,sender]}else if(this._shimmedLocalStreams[stream.id].indexOf(sender)===-1){this._shimmedLocalStreams[stream.id].push(sender)}return sender};var origAddStream=window.RTCPeerConnection.prototype.addStream;window.RTCPeerConnection.prototype.addStream=function addStream(stream){var _this9=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{};stream.getTracks().forEach(function(track){var alreadyExists=_this9.getSenders().find(function(s){return s.track===track});if(alreadyExists){throw new DOMException('Track already exists.','InvalidAccessError');}});var existingSenders=this.getSenders();origAddStream.apply(this,arguments);var newSenders=this.getSenders().filter(function(newSender){return existingSenders.indexOf(newSender)===-1});this._shimmedLocalStreams[stream.id]=[stream].concat(newSenders)};var origRemoveStream=window.RTCPeerConnection.prototype.removeStream;window.RTCPeerConnection.prototype.removeStream=function removeStream(stream){this._shimmedLocalStreams=this._shimmedLocalStreams||{};delete this._shimmedLocalStreams[stream.id];return origRemoveStream.apply(this,arguments)};var origRemoveTrack=window.RTCPeerConnection.prototype.removeTrack;window.RTCPeerConnection.prototype.removeTrack=function removeTrack(sender){var _this10=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{};if(sender){Object.keys(this._shimmedLocalStreams).forEach(function(streamId){var idx=_this10._shimmedLocalStreams[streamId].indexOf(sender);if(idx!==-1){_this10._shimmedLocalStreams[streamId].splice(idx,1)}if(_this10._shimmedLocalStreams[streamId].length===1){delete _this10._shimmedLocalStreams[streamId]}})}return origRemoveTrack.apply(this,arguments)}}function shimAddTrackRemoveTrack(window,browserDetails){if(!window.RTCPeerConnection){return}if(window.RTCPeerConnection.prototype.addTrack&&browserDetails.version>=65){return shimAddTrackRemoveTrackWithNative(window)}var origGetLocalStreams=window.RTCPeerConnection.prototype.getLocalStreams;window.RTCPeerConnection.prototype.getLocalStreams=function getLocalStreams(){var _this11=this;var nativeStreams=origGetLocalStreams.apply(this);this._reverseStreams=this._reverseStreams||{};return nativeStreams.map(function(stream){return _this11._reverseStreams[stream.id]})};var origAddStream=window.RTCPeerConnection.prototype.addStream;window.RTCPeerConnection.prototype.addStream=function addStream(stream){var _this12=this;this._streams=this._streams||{};this._reverseStreams=this._reverseStreams||{};stream.getTracks().forEach(function(track){var alreadyExists=_this12.getSenders().find(function(s){return s.track===track});if(alreadyExists){throw new DOMException('Track already exists.','InvalidAccessError');}});if(!this._reverseStreams[stream.id]){var newStream=new window.MediaStream(stream.getTracks());this._streams[stream.id]=newStream;this._reverseStreams[newStream.id]=stream;stream=newStream}origAddStream.apply(this,[stream])};var origRemoveStream=window.RTCPeerConnection.prototype.removeStream;window.RTCPeerConnection.prototype.removeStream=function removeStream(stream){this._streams=this._streams||{};this._reverseStreams=this._reverseStreams||{};origRemoveStream.apply(this,[this._streams[stream.id]||stream]);delete this._reverseStreams[this._streams[stream.id]?this._streams[stream.id].id:stream.id];delete this._streams[stream.id]};window.RTCPeerConnection.prototype.addTrack=function addTrack(track,stream){var _this13=this;if(this.signalingState==='closed'){throw new DOMException('The RTCPeerConnection\'s signalingState is \'closed\'.','InvalidStateError');}var streams=[].slice.call(arguments,1);if(streams.length!==1||!streams[0].getTracks().find(function(t){return t===track})){throw new DOMException('The adapter.js addTrack polyfill only supports a single '+' stream which is associated with the specified track.','NotSupportedError');}var alreadyExists=this.getSenders().find(function(s){return s.track===track});if(alreadyExists){throw new DOMException('Track already exists.','InvalidAccessError');}this._streams=this._streams||{};this._reverseStreams=this._reverseStreams||{};var oldStream=this._streams[stream.id];if(oldStream){oldStream.addTrack(track);Promise.resolve().then(function(){_this13.dispatchEvent(new Event('negotiationneeded'))})}else{var newStream=new window.MediaStream([track]);this._streams[stream.id]=newStream;this._reverseStreams[newStream.id]=stream;this.addStream(newStream)}return this.getSenders().find(function(s){return s.track===track})};function replaceInternalStreamId(pc,description){var sdp=description.sdp;Object.keys(pc._reverseStreams||[]).forEach(function(internalId){var externalStream=pc._reverseStreams[internalId];var internalStream=pc._streams[externalStream.id];sdp=sdp.replace(new RegExp(internalStream.id,'g'),externalStream.id)});return new RTCSessionDescription({type:description.type,sdp:sdp})}function replaceExternalStreamId(pc,description){var sdp=description.sdp;Object.keys(pc._reverseStreams||[]).forEach(function(internalId){var externalStream=pc._reverseStreams[internalId];var internalStream=pc._streams[externalStream.id];sdp=sdp.replace(new RegExp(externalStream.id,'g'),internalStream.id)});return new RTCSessionDescription({type:description.type,sdp:sdp})}['createOffer','createAnswer'].forEach(function(method){var nativeMethod=window.RTCPeerConnection.prototype[method];var methodObj=_defineProperty({},method,function(){var _this14=this;var args=arguments;var isLegacyCall=arguments.length&&typeof arguments[0]==='function';if(isLegacyCall){return nativeMethod.apply(this,[function(description){var desc=replaceInternalStreamId(_this14,description);args[0].apply(null,[desc])},function(err){if(args[1]){args[1].apply(null,err)}},arguments[2]])}return nativeMethod.apply(this,arguments).then(function(description){return replaceInternalStreamId(_this14,description)})});window.RTCPeerConnection.prototype[method]=methodObj[method]});var origSetLocalDescription=window.RTCPeerConnection.prototype.setLocalDescription;window.RTCPeerConnection.prototype.setLocalDescription=function setLocalDescription(){if(!arguments.length||!arguments[0].type){return origSetLocalDescription.apply(this,arguments)}arguments[0]=replaceExternalStreamId(this,arguments[0]);return origSetLocalDescription.apply(this,arguments)};var origLocalDescription=Object.getOwnPropertyDescriptor(window.RTCPeerConnection.prototype,'localDescription');Object.defineProperty(window.RTCPeerConnection.prototype,'localDescription',{get:function get(){var description=origLocalDescription.get.apply(this);if(description.type===''){return description}return replaceInternalStreamId(this,description)}});window.RTCPeerConnection.prototype.removeTrack=function removeTrack(sender){var _this15=this;if(this.signalingState==='closed'){throw new DOMException('The RTCPeerConnection\'s signalingState is \'closed\'.','InvalidStateError');}if(!sender._pc){throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack '+'does not implement interface RTCRtpSender.','TypeError');}var isLocal=sender._pc===this;if(!isLocal){throw new DOMException('Sender was not created by this connection.','InvalidAccessError');}this._streams=this._streams||{};var stream=void 0;Object.keys(this._streams).forEach(function(streamid){var hasTrack=_this15._streams[streamid].getTracks().find(function(track){return sender.track===track});if(hasTrack){stream=_this15._streams[streamid]}});if(stream){if(stream.getTracks().length===1){this.removeStream(this._reverseStreams[stream.id])}else{stream.removeTrack(sender.track)}this.dispatchEvent(new Event('negotiationneeded'))}}}function shimPeerConnection(window,browserDetails){if(!window.RTCPeerConnection&&window.webkitRTCPeerConnection){window.RTCPeerConnection=window.webkitRTCPeerConnection}if(!window.RTCPeerConnection){return}if(browserDetails.version<53){['setLocalDescription','setRemoteDescription','addIceCandidate'].forEach(function(method){var nativeMethod=window.RTCPeerConnection.prototype[method];var methodObj=_defineProperty({},method,function(){arguments[0]=new(method==='addIceCandidate'?window.RTCIceCandidate:window.RTCSessionDescription)(arguments[0]);return nativeMethod.apply(this,arguments)});window.RTCPeerConnection.prototype[method]=methodObj[method]})}}function fixNegotiationNeeded(window,browserDetails){utils.wrapPeerConnectionEvent(window,'negotiationneeded',function(e){var pc=e.target;if(browserDetails.version<72||pc.getConfiguration&&pc.getConfiguration().sdpSemantics==='plan-b'){if(pc.signalingState!=='stable'){return}}return e})}},{"../utils.js":11,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.shimGetDisplayMedia=shimGetDisplayMedia;function shimGetDisplayMedia(window,getSourceId){if(window.navigator.mediaDevices&&'getDisplayMedia'in window.navigator.mediaDevices){return}if(!window.navigator.mediaDevices){return}if(typeof getSourceId!=='function'){console.error('shimGetDisplayMedia: getSourceId argument is not '+'a function');return}window.navigator.mediaDevices.getDisplayMedia=function getDisplayMedia(constraints){return getSourceId(constraints).then(function(sourceId){var widthSpecified=constraints.video&&constraints.video.width;var heightSpecified=constraints.video&&constraints.video.height;var frameRateSpecified=constraints.video&&constraints.video.frameRate;constraints.video={mandatory:{chromeMediaSource:'desktop',chromeMediaSourceId:sourceId,maxFrameRate:frameRateSpecified||3}};if(widthSpecified){constraints.video.mandatory.maxWidth=widthSpecified}if(heightSpecified){constraints.video.mandatory.maxHeight=heightSpecified}return window.navigator.mediaDevices.getUserMedia(constraints)})}}},{}],5:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.shimGetUserMedia=shimGetUserMedia;var _utils=require('../utils.js');var utils=_interopRequireWildcard(_utils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}var logging=utils.log;function shimGetUserMedia(window,browserDetails){var navigator=window&&window.navigator;if(!navigator.mediaDevices){return}var constraintsToChrome_=function constraintsToChrome_(c){if((typeof c==='undefined'?'undefined':_typeof(c))!=='object'||c.mandatory||c.optional){return c}var cc={};Object.keys(c).forEach(function(key){if(key==='require'||key==='advanced'||key==='mediaSource'){return}var r=_typeof(c[key])==='object'?c[key]:{ideal:c[key]};if(r.exact!==undefined&&typeof r.exact==='number'){r.min=r.max=r.exact}var oldname_=function oldname_(prefix,name){if(prefix){return prefix+name.charAt(0).toUpperCase()+name.slice(1)}return name==='deviceId'?'sourceId':name};if(r.ideal!==undefined){cc.optional=cc.optional||[];var oc={};if(typeof r.ideal==='number'){oc[oldname_('min',key)]=r.ideal;cc.optional.push(oc);oc={};oc[oldname_('max',key)]=r.ideal;cc.optional.push(oc)}else{oc[oldname_('',key)]=r.ideal;cc.optional.push(oc)}}if(r.exact!==undefined&&typeof r.exact!=='number'){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname_('',key)]=r.exact}else{['min','max'].forEach(function(mix){if(r[mix]!==undefined){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname_(mix,key)]=r[mix]}})}});if(c.advanced){cc.optional=(cc.optional||[]).concat(c.advanced)}return cc};var shimConstraints_=function shimConstraints_(constraints,func){if(browserDetails.version>=61){return func(constraints)}constraints=JSON.parse(JSON.stringify(constraints));if(constraints&&_typeof(constraints.audio)==='object'){var remap=function remap(obj,a,b){if(a in obj&&!(b in obj)){obj[b]=obj[a];delete obj[a]}};constraints=JSON.parse(JSON.stringify(constraints));remap(constraints.audio,'autoGainControl','googAutoGainControl');remap(constraints.audio,'noiseSuppression','googNoiseSuppression');constraints.audio=constraintsToChrome_(constraints.audio)}if(constraints&&_typeof(constraints.video)==='object'){var face=constraints.video.facingMode;face=face&&((typeof face==='undefined'?'undefined':_typeof(face))==='object'?face:{ideal:face});var getSupportedFacingModeLies=browserDetails.version<66;if(face&&(face.exact==='user'||face.exact==='environment'||face.ideal==='user'||face.ideal==='environment')&&!(navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().facingMode&&!getSupportedFacingModeLies)){delete constraints.video.facingMode;var matches=void 0;if(face.exact==='environment'||face.ideal==='environment'){matches=['back','rear']}else if(face.exact==='user'||face.ideal==='user'){matches=['front']}if(matches){return navigator.mediaDevices.enumerateDevices().then(function(devices){devices=devices.filter(function(d){return d.kind==='videoinput'});var dev=devices.find(function(d){return matches.some(function(match){return d.label.toLowerCase().includes(match)})});if(!dev&&devices.length&&matches.includes('back')){dev=devices[devices.length-1]}if(dev){constraints.video.deviceId=face.exact?{exact:dev.deviceId}:{ideal:dev.deviceId}}constraints.video=constraintsToChrome_(constraints.video);logging('chrome: '+JSON.stringify(constraints));return func(constraints)})}}constraints.video=constraintsToChrome_(constraints.video)}logging('chrome: '+JSON.stringify(constraints));return func(constraints)};var shimError_=function shimError_(e){if(browserDetails.version>=64){return e}return{name:{PermissionDeniedError:'NotAllowedError',PermissionDismissedError:'NotAllowedError',InvalidStateError:'NotAllowedError',DevicesNotFoundError:'NotFoundError',ConstraintNotSatisfiedError:'OverconstrainedError',TrackStartError:'NotReadableError',MediaDeviceFailedDueToShutdown:'NotAllowedError',MediaDeviceKillSwitchOn:'NotAllowedError',TabCaptureError:'AbortError',ScreenCaptureError:'AbortError',DeviceCaptureError:'AbortError'}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function toString(){return this.name+(this.message&&': ')+this.message}}};var getUserMedia_=function getUserMedia_(constraints,onSuccess,onError){shimConstraints_(constraints,function(c){navigator.webkitGetUserMedia(c,onSuccess,function(e){if(onError){onError(shimError_(e))}})})};navigator.getUserMedia=getUserMedia_.bind(navigator);if(navigator.mediaDevices.getUserMedia){var origGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(cs){return shimConstraints_(cs,function(c){return origGetUserMedia(c).then(function(stream){if(c.audio&&!stream.getAudioTracks().length||c.video&&!stream.getVideoTracks().length){stream.getTracks().forEach(function(track){track.stop()});throw new DOMException('','NotFoundError');}return stream},function(e){return Promise.reject(shimError_(e))})})}}}},{"../utils.js":11}],6:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.shimRTCIceCandidate=shimRTCIceCandidate;exports.shimRTCIceCandidateRelayProtocol=shimRTCIceCandidateRelayProtocol;exports.shimMaxMessageSize=shimMaxMessageSize;exports.shimSendThrowTypeError=shimSendThrowTypeError;exports.shimConnectionState=shimConnectionState;exports.removeExtmapAllowMixed=removeExtmapAllowMixed;exports.shimAddIceCandidateNullOrEmpty=shimAddIceCandidateNullOrEmpty;exports.shimParameterlessSetLocalDescription=shimParameterlessSetLocalDescription;var _sdp=require('sdp');var _sdp2=_interopRequireDefault(_sdp);var _utils=require('./utils');var utils=_interopRequireWildcard(_utils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function shimRTCIceCandidate(window){if(!window.RTCIceCandidate||window.RTCIceCandidate&&'foundation'in window.RTCIceCandidate.prototype){return}var NativeRTCIceCandidate=window.RTCIceCandidate;window.RTCIceCandidate=function RTCIceCandidate(args){if((typeof args==='undefined'?'undefined':_typeof(args))==='object'&&args.candidate&&args.candidate.indexOf('a=')===0){args=JSON.parse(JSON.stringify(args));args.candidate=args.candidate.substr(2)}if(args.candidate&&args.candidate.length){var nativeCandidate=new NativeRTCIceCandidate(args);var parsedCandidate=_sdp2.default.parseCandidate(args.candidate);var augmentedCandidate=Object.assign(nativeCandidate,parsedCandidate);augmentedCandidate.toJSON=function toJSON(){return{candidate:augmentedCandidate.candidate,sdpMid:augmentedCandidate.sdpMid,sdpMLineIndex:augmentedCandidate.sdpMLineIndex,usernameFragment:augmentedCandidate.usernameFragment}};return augmentedCandidate}return new NativeRTCIceCandidate(args)};window.RTCIceCandidate.prototype=NativeRTCIceCandidate.prototype;utils.wrapPeerConnectionEvent(window,'icecandidate',function(e){if(e.candidate){Object.defineProperty(e,'candidate',{value:new window.RTCIceCandidate(e.candidate),writable:'false'})}return e})}function shimRTCIceCandidateRelayProtocol(window){if(!window.RTCIceCandidate||window.RTCIceCandidate&&'relayProtocol'in window.RTCIceCandidate.prototype){return}utils.wrapPeerConnectionEvent(window,'icecandidate',function(e){if(e.candidate){var parsedCandidate=_sdp2.default.parseCandidate(e.candidate.candidate);if(parsedCandidate.type==='relay'){e.candidate.relayProtocol={0:'tls',1:'tcp',2:'udp'}[parsedCandidate.priority>>24]}}return e})}function shimMaxMessageSize(window,browserDetails){if(!window.RTCPeerConnection){return}if(!('sctp'in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,'sctp',{get:function get(){return typeof this._sctp==='undefined'?null:this._sctp}})}var sctpInDescription=function sctpInDescription(description){if(!description||!description.sdp){return false}var sections=_sdp2.default.splitSections(description.sdp);sections.shift();return sections.some(function(mediaSection){var mLine=_sdp2.default.parseMLine(mediaSection);return mLine&&mLine.kind==='application'&&mLine.protocol.indexOf('SCTP')!==-1})};var getRemoteFirefoxVersion=function getRemoteFirefoxVersion(description){var match=description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(match===null||match.length<2){return-1}var version=parseInt(match[1],10);return version!==version?-1:version};var getCanSendMaxMessageSize=function getCanSendMaxMessageSize(remoteIsFirefox){var canSendMaxMessageSize=65536;if(browserDetails.browser==='firefox'){if(browserDetails.version<57){if(remoteIsFirefox===-1){canSendMaxMessageSize=16384}else{canSendMaxMessageSize=2147483637}}else if(browserDetails.version<60){canSendMaxMessageSize=browserDetails.version===57?65535:65536}else{canSendMaxMessageSize=2147483637}}return canSendMaxMessageSize};var getMaxMessageSize=function getMaxMessageSize(description,remoteIsFirefox){var maxMessageSize=65536;if(browserDetails.browser==='firefox'&&browserDetails.version===57){maxMessageSize=65535}var match=_sdp2.default.matchPrefix(description.sdp,'a=max-message-size:');if(match.length>0){maxMessageSize=parseInt(match[0].substr(19),10)}else if(browserDetails.browser==='firefox'&&remoteIsFirefox!==-1){maxMessageSize=2147483637}return maxMessageSize};var origSetRemoteDescription=window.RTCPeerConnection.prototype.setRemoteDescription;window.RTCPeerConnection.prototype.setRemoteDescription=function setRemoteDescription(){this._sctp=null;if(browserDetails.browser==='chrome'&&browserDetails.version>=76){var _getConfiguration=this.getConfiguration(),sdpSemantics=_getConfiguration.sdpSemantics;if(sdpSemantics==='plan-b'){Object.defineProperty(this,'sctp',{get:function get(){return typeof this._sctp==='undefined'?null:this._sctp},enumerable:true,configurable:true})}}if(sctpInDescription(arguments[0])){var isFirefox=getRemoteFirefoxVersion(arguments[0]);var canSendMMS=getCanSendMaxMessageSize(isFirefox);var remoteMMS=getMaxMessageSize(arguments[0],isFirefox);var maxMessageSize=void 0;if(canSendMMS===0&&remoteMMS===0){maxMessageSize=Number.POSITIVE_INFINITY}else if(canSendMMS===0||remoteMMS===0){maxMessageSize=Math.max(canSendMMS,remoteMMS)}else{maxMessageSize=Math.min(canSendMMS,remoteMMS)}var sctp={};Object.defineProperty(sctp,'maxMessageSize',{get:function get(){return maxMessageSize}});this._sctp=sctp}return origSetRemoteDescription.apply(this,arguments)}}function shimSendThrowTypeError(window){if(!(window.RTCPeerConnection&&'createDataChannel'in window.RTCPeerConnection.prototype)){return}function wrapDcSend(dc,pc){var origDataChannelSend=dc.send;dc.send=function send(){var data=arguments[0];var length=data.length||data.size||data.byteLength;if(dc.readyState==='open'&&pc.sctp&&length>pc.sctp.maxMessageSize){throw new TypeError('Message too large (can send a maximum of '+pc.sctp.maxMessageSize+' bytes)');}return origDataChannelSend.apply(dc,arguments)}}var origCreateDataChannel=window.RTCPeerConnection.prototype.createDataChannel;window.RTCPeerConnection.prototype.createDataChannel=function createDataChannel(){var dataChannel=origCreateDataChannel.apply(this,arguments);wrapDcSend(dataChannel,this);return dataChannel};utils.wrapPeerConnectionEvent(window,'datachannel',function(e){wrapDcSend(e.channel,e.target);return e})}function shimConnectionState(window){if(!window.RTCPeerConnection||'connectionState'in window.RTCPeerConnection.prototype){return}var proto=window.RTCPeerConnection.prototype;Object.defineProperty(proto,'connectionState',{get:function get(){return{completed:'connected',checking:'connecting'}[this.iceConnectionState]||this.iceConnectionState},enumerable:true,configurable:true});Object.defineProperty(proto,'onconnectionstatechange',{get:function get(){return this._onconnectionstatechange||null},set:function set(cb){if(this._onconnectionstatechange){this.removeEventListener('connectionstatechange',this._onconnectionstatechange);delete this._onconnectionstatechange}if(cb){this.addEventListener('connectionstatechange',this._onconnectionstatechange=cb)}},enumerable:true,configurable:true});['setLocalDescription','setRemoteDescription'].forEach(function(method){var origMethod=proto[method];proto[method]=function(){if(!this._connectionstatechangepoly){this._connectionstatechangepoly=function(e){var pc=e.target;if(pc._lastConnectionState!==pc.connectionState){pc._lastConnectionState=pc.connectionState;var newEvent=new Event('connectionstatechange',e);pc.dispatchEvent(newEvent)}return e};this.addEventListener('iceconnectionstatechange',this._connectionstatechangepoly)}return origMethod.apply(this,arguments)}})}function removeExtmapAllowMixed(window,browserDetails){if(!window.RTCPeerConnection){return}if(browserDetails.browser==='chrome'&&browserDetails.version>=71){return}if(browserDetails.browser==='safari'&&browserDetails.version>=605){return}var nativeSRD=window.RTCPeerConnection.prototype.setRemoteDescription;window.RTCPeerConnection.prototype.setRemoteDescription=function setRemoteDescription(desc){if(desc&&desc.sdp&&desc.sdp.indexOf('\na=extmap-allow-mixed')!==-1){var sdp=desc.sdp.split('\n').filter(function(line){return line.trim()!=='a=extmap-allow-mixed'}).join('\n');if(window.RTCSessionDescription&&desc instanceof window.RTCSessionDescription){arguments[0]=new window.RTCSessionDescription({type:desc.type,sdp:sdp})}else{desc.sdp=sdp}}return nativeSRD.apply(this,arguments)}}function shimAddIceCandidateNullOrEmpty(window,browserDetails){if(!(window.RTCPeerConnection&&window.RTCPeerConnection.prototype)){return}var nativeAddIceCandidate=window.RTCPeerConnection.prototype.addIceCandidate;if(!nativeAddIceCandidate||nativeAddIceCandidate.length===0){return}window.RTCPeerConnection.prototype.addIceCandidate=function addIceCandidate(){if(!arguments[0]){if(arguments[1]){arguments[1].apply(null)}return Promise.resolve()}if((browserDetails.browser==='chrome'&&browserDetails.version<78||browserDetails.browser==='firefox'&&browserDetails.version<68||browserDetails.browser==='safari')&&arguments[0]&&arguments[0].candidate===''){return Promise.resolve()}return nativeAddIceCandidate.apply(this,arguments)}}function shimParameterlessSetLocalDescription(window,browserDetails){if(!(window.RTCPeerConnection&&window.RTCPeerConnection.prototype)){return}var nativeSetLocalDescription=window.RTCPeerConnection.prototype.setLocalDescription;if(!nativeSetLocalDescription||nativeSetLocalDescription.length===0){return}window.RTCPeerConnection.prototype.setLocalDescription=function setLocalDescription(){var _this=this;var desc=arguments[0]||{};if((typeof desc==='undefined'?'undefined':_typeof(desc))!=='object'||desc.type&&desc.sdp){return nativeSetLocalDescription.apply(this,arguments)}desc={type:desc.type,sdp:desc.sdp};if(!desc.type){switch(this.signalingState){case'stable':case'have-local-offer':case'have-remote-pranswer':desc.type='offer';break;default:desc.type='answer';break}}if(desc.sdp||desc.type!=='offer'&&desc.type!=='answer'){return nativeSetLocalDescription.apply(this,[desc])}var func=desc.type==='offer'?this.createOffer:this.createAnswer;return func.apply(this).then(function(d){return nativeSetLocalDescription.apply(_this,[d])})}}},{"./utils":11,"sdp":12}],7:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.shimGetDisplayMedia=exports.shimGetUserMedia=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _getusermedia=require('./getusermedia');Object.defineProperty(exports,'shimGetUserMedia',{enumerable:true,get:function get(){return _getusermedia.shimGetUserMedia}});var _getdisplaymedia=require('./getdisplaymedia');Object.defineProperty(exports,'shimGetDisplayMedia',{enumerable:true,get:function get(){return _getdisplaymedia.shimGetDisplayMedia}});exports.shimOnTrack=shimOnTrack;exports.shimPeerConnection=shimPeerConnection;exports.shimSenderGetStats=shimSenderGetStats;exports.shimReceiverGetStats=shimReceiverGetStats;exports.shimRemoveStream=shimRemoveStream;exports.shimRTCDataChannel=shimRTCDataChannel;exports.shimAddTransceiver=shimAddTransceiver;exports.shimGetParameters=shimGetParameters;exports.shimCreateOffer=shimCreateOffer;exports.shimCreateAnswer=shimCreateAnswer;var _utils=require('../utils');var utils=_interopRequireWildcard(_utils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function shimOnTrack(window){if((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCTrackEvent&&'receiver'in window.RTCTrackEvent.prototype&&!('transceiver'in window.RTCTrackEvent.prototype)){Object.defineProperty(window.RTCTrackEvent.prototype,'transceiver',{get:function get(){return{receiver:this.receiver}}})}}function shimPeerConnection(window,browserDetails){if((typeof window==='undefined'?'undefined':_typeof(window))!=='object'||!(window.RTCPeerConnection||window.mozRTCPeerConnection)){return}if(!window.RTCPeerConnection&&window.mozRTCPeerConnection){window.RTCPeerConnection=window.mozRTCPeerConnection}if(browserDetails.version<53){['setLocalDescription','setRemoteDescription','addIceCandidate'].forEach(function(method){var nativeMethod=window.RTCPeerConnection.prototype[method];var methodObj=_defineProperty({},method,function(){arguments[0]=new(method==='addIceCandidate'?window.RTCIceCandidate:window.RTCSessionDescription)(arguments[0]);return nativeMethod.apply(this,arguments)});window.RTCPeerConnection.prototype[method]=methodObj[method]})}var modernStatsTypes={inboundrtp:'inbound-rtp',outboundrtp:'outbound-rtp',candidatepair:'candidate-pair',localcandidate:'local-candidate',remotecandidate:'remote-candidate'};var nativeGetStats=window.RTCPeerConnection.prototype.getStats;window.RTCPeerConnection.prototype.getStats=function getStats(){var _arguments=Array.prototype.slice.call(arguments),selector=_arguments[0],onSucc=_arguments[1],onErr=_arguments[2];return nativeGetStats.apply(this,[selector||null]).then(function(stats){if(browserDetails.version<53&&!onSucc){try{stats.forEach(function(stat){stat.type=modernStatsTypes[stat.type]||stat.type})}catch(e){if(e.name!=='TypeError'){throw e;}stats.forEach(function(stat,i){stats.set(i,Object.assign({},stat,{type:modernStatsTypes[stat.type]||stat.type}))})}}return stats}).then(onSucc,onErr)}}function shimSenderGetStats(window){if(!((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCPeerConnection&&window.RTCRtpSender)){return}if(window.RTCRtpSender&&'getStats'in window.RTCRtpSender.prototype){return}var origGetSenders=window.RTCPeerConnection.prototype.getSenders;if(origGetSenders){window.RTCPeerConnection.prototype.getSenders=function getSenders(){var _this=this;var senders=origGetSenders.apply(this,[]);senders.forEach(function(sender){return sender._pc=_this});return senders}}var origAddTrack=window.RTCPeerConnection.prototype.addTrack;if(origAddTrack){window.RTCPeerConnection.prototype.addTrack=function addTrack(){var sender=origAddTrack.apply(this,arguments);sender._pc=this;return sender}}window.RTCRtpSender.prototype.getStats=function getStats(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map())}}function shimReceiverGetStats(window){if(!((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCPeerConnection&&window.RTCRtpSender)){return}if(window.RTCRtpSender&&'getStats'in window.RTCRtpReceiver.prototype){return}var origGetReceivers=window.RTCPeerConnection.prototype.getReceivers;if(origGetReceivers){window.RTCPeerConnection.prototype.getReceivers=function getReceivers(){var _this2=this;var receivers=origGetReceivers.apply(this,[]);receivers.forEach(function(receiver){return receiver._pc=_this2});return receivers}}utils.wrapPeerConnectionEvent(window,'track',function(e){e.receiver._pc=e.srcElement;return e});window.RTCRtpReceiver.prototype.getStats=function getStats(){return this._pc.getStats(this.track)}}function shimRemoveStream(window){if(!window.RTCPeerConnection||'removeStream'in window.RTCPeerConnection.prototype){return}window.RTCPeerConnection.prototype.removeStream=function removeStream(stream){var _this3=this;utils.deprecated('removeStream','removeTrack');this.getSenders().forEach(function(sender){if(sender.track&&stream.getTracks().includes(sender.track)){_this3.removeTrack(sender)}})}}function shimRTCDataChannel(window){if(window.DataChannel&&!window.RTCDataChannel){window.RTCDataChannel=window.DataChannel}}function shimAddTransceiver(window){if(!((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCPeerConnection)){return}var origAddTransceiver=window.RTCPeerConnection.prototype.addTransceiver;if(origAddTransceiver){window.RTCPeerConnection.prototype.addTransceiver=function addTransceiver(){this.setParametersPromises=[];var sendEncodings=arguments[1]&&arguments[1].sendEncodings;if(sendEncodings===undefined){sendEncodings=[]}sendEncodings=[].concat(_toConsumableArray(sendEncodings));var shouldPerformCheck=sendEncodings.length>0;if(shouldPerformCheck){sendEncodings.forEach(function(encodingParam){if('rid'in encodingParam){var ridRegex=/^[a-z0-9]{0,16}$/i;if(!ridRegex.test(encodingParam.rid)){throw new TypeError('Invalid RID value provided.');}}if('scaleResolutionDownBy'in encodingParam){if(!(parseFloat(encodingParam.scaleResolutionDownBy)>=1.0)){throw new RangeError('scale_resolution_down_by must be >= 1.0');}}if('maxFramerate'in encodingParam){if(!(parseFloat(encodingParam.maxFramerate)>=0)){throw new RangeError('max_framerate must be >= 0.0');}}})}var transceiver=origAddTransceiver.apply(this,arguments);if(shouldPerformCheck){var sender=transceiver.sender;var params=sender.getParameters();if(!('encodings'in params)||params.encodings.length===1&&Object.keys(params.encodings[0]).length===0){params.encodings=sendEncodings;sender.sendEncodings=sendEncodings;this.setParametersPromises.push(sender.setParameters(params).then(function(){delete sender.sendEncodings}).catch(function(){delete sender.sendEncodings}))}}return transceiver}}}function shimGetParameters(window){if(!((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCRtpSender)){return}var origGetParameters=window.RTCRtpSender.prototype.getParameters;if(origGetParameters){window.RTCRtpSender.prototype.getParameters=function getParameters(){var params=origGetParameters.apply(this,arguments);if(!('encodings'in params)){params.encodings=[].concat(this.sendEncodings||[{}])}return params}}}function shimCreateOffer(window){if(!((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCPeerConnection)){return}var origCreateOffer=window.RTCPeerConnection.prototype.createOffer;window.RTCPeerConnection.prototype.createOffer=function createOffer(){var _this4=this,_arguments2=arguments;if(this.setParametersPromises&&this.setParametersPromises.length){return Promise.all(this.setParametersPromises).then(function(){return origCreateOffer.apply(_this4,_arguments2)}).finally(function(){_this4.setParametersPromises=[]})}return origCreateOffer.apply(this,arguments)}}function shimCreateAnswer(window){if(!((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCPeerConnection)){return}var origCreateAnswer=window.RTCPeerConnection.prototype.createAnswer;window.RTCPeerConnection.prototype.createAnswer=function createAnswer(){var _this5=this,_arguments3=arguments;if(this.setParametersPromises&&this.setParametersPromises.length){return Promise.all(this.setParametersPromises).then(function(){return origCreateAnswer.apply(_this5,_arguments3)}).finally(function(){_this5.setParametersPromises=[]})}return origCreateAnswer.apply(this,arguments)}}},{"../utils":11,"./getdisplaymedia":8,"./getusermedia":9}],8:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.shimGetDisplayMedia=shimGetDisplayMedia;function shimGetDisplayMedia(window,preferredMediaSource){if(window.navigator.mediaDevices&&'getDisplayMedia'in window.navigator.mediaDevices){return}if(!window.navigator.mediaDevices){return}window.navigator.mediaDevices.getDisplayMedia=function getDisplayMedia(constraints){if(!(constraints&&constraints.video)){var err=new DOMException('getDisplayMedia without video '+'constraints is undefined');err.name='NotFoundError';err.code=8;return Promise.reject(err)}if(constraints.video===true){constraints.video={mediaSource:preferredMediaSource}}else{constraints.video.mediaSource=preferredMediaSource}return window.navigator.mediaDevices.getUserMedia(constraints)}}},{}],9:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.shimGetUserMedia=shimGetUserMedia;var _utils=require('../utils');var utils=_interopRequireWildcard(_utils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function shimGetUserMedia(window,browserDetails){var navigator=window&&window.navigator;var MediaStreamTrack=window&&window.MediaStreamTrack;navigator.getUserMedia=function(constraints,onSuccess,onError){utils.deprecated('navigator.getUserMedia','navigator.mediaDevices.getUserMedia');navigator.mediaDevices.getUserMedia(constraints).then(onSuccess,onError)};if(!(browserDetails.version>55&&'autoGainControl'in navigator.mediaDevices.getSupportedConstraints())){var remap=function remap(obj,a,b){if(a in obj&&!(b in obj)){obj[b]=obj[a];delete obj[a]}};var nativeGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(c){if((typeof c==='undefined'?'undefined':_typeof(c))==='object'&&_typeof(c.audio)==='object'){c=JSON.parse(JSON.stringify(c));remap(c.audio,'autoGainControl','mozAutoGainControl');remap(c.audio,'noiseSuppression','mozNoiseSuppression')}return nativeGetUserMedia(c)};if(MediaStreamTrack&&MediaStreamTrack.prototype.getSettings){var nativeGetSettings=MediaStreamTrack.prototype.getSettings;MediaStreamTrack.prototype.getSettings=function(){var obj=nativeGetSettings.apply(this,arguments);remap(obj,'mozAutoGainControl','autoGainControl');remap(obj,'mozNoiseSuppression','noiseSuppression');return obj}}if(MediaStreamTrack&&MediaStreamTrack.prototype.applyConstraints){var nativeApplyConstraints=MediaStreamTrack.prototype.applyConstraints;MediaStreamTrack.prototype.applyConstraints=function(c){if(this.kind==='audio'&&(typeof c==='undefined'?'undefined':_typeof(c))==='object'){c=JSON.parse(JSON.stringify(c));remap(c,'autoGainControl','mozAutoGainControl');remap(c,'noiseSuppression','mozNoiseSuppression')}return nativeApplyConstraints.apply(this,[c])}}}}},{"../utils":11}],10:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.shimLocalStreamsAPI=shimLocalStreamsAPI;exports.shimRemoteStreamsAPI=shimRemoteStreamsAPI;exports.shimCallbacksAPI=shimCallbacksAPI;exports.shimGetUserMedia=shimGetUserMedia;exports.shimConstraints=shimConstraints;exports.shimRTCIceServerUrls=shimRTCIceServerUrls;exports.shimTrackEventTransceiver=shimTrackEventTransceiver;exports.shimCreateOfferLegacy=shimCreateOfferLegacy;exports.shimAudioContext=shimAudioContext;var _utils=require('../utils');var utils=_interopRequireWildcard(_utils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function shimLocalStreamsAPI(window){if((typeof window==='undefined'?'undefined':_typeof(window))!=='object'||!window.RTCPeerConnection){return}if(!('getLocalStreams'in window.RTCPeerConnection.prototype)){window.RTCPeerConnection.prototype.getLocalStreams=function getLocalStreams(){if(!this._localStreams){this._localStreams=[]}return this._localStreams}}if(!('addStream'in window.RTCPeerConnection.prototype)){var _addTrack=window.RTCPeerConnection.prototype.addTrack;window.RTCPeerConnection.prototype.addStream=function addStream(stream){var _this=this;if(!this._localStreams){this._localStreams=[]}if(!this._localStreams.includes(stream)){this._localStreams.push(stream)}stream.getAudioTracks().forEach(function(track){return _addTrack.call(_this,track,stream)});stream.getVideoTracks().forEach(function(track){return _addTrack.call(_this,track,stream)})};window.RTCPeerConnection.prototype.addTrack=function addTrack(track){var _this2=this;for(var _len=arguments.length,streams=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){streams[_key-1]=arguments[_key]}if(streams){streams.forEach(function(stream){if(!_this2._localStreams){_this2._localStreams=[stream]}else if(!_this2._localStreams.includes(stream)){_this2._localStreams.push(stream)}})}return _addTrack.apply(this,arguments)}}if(!('removeStream'in window.RTCPeerConnection.prototype)){window.RTCPeerConnection.prototype.removeStream=function removeStream(stream){var _this3=this;if(!this._localStreams){this._localStreams=[]}var index=this._localStreams.indexOf(stream);if(index===-1){return}this._localStreams.splice(index,1);var tracks=stream.getTracks();this.getSenders().forEach(function(sender){if(tracks.includes(sender.track)){_this3.removeTrack(sender)}})}}}function shimRemoteStreamsAPI(window){if((typeof window==='undefined'?'undefined':_typeof(window))!=='object'||!window.RTCPeerConnection){return}if(!('getRemoteStreams'in window.RTCPeerConnection.prototype)){window.RTCPeerConnection.prototype.getRemoteStreams=function getRemoteStreams(){return this._remoteStreams?this._remoteStreams:[]}}if(!('onaddstream'in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,'onaddstream',{get:function get(){return this._onaddstream},set:function set(f){var _this4=this;if(this._onaddstream){this.removeEventListener('addstream',this._onaddstream);this.removeEventListener('track',this._onaddstreampoly)}this.addEventListener('addstream',this._onaddstream=f);this.addEventListener('track',this._onaddstreampoly=function(e){e.streams.forEach(function(stream){if(!_this4._remoteStreams){_this4._remoteStreams=[]}if(_this4._remoteStreams.includes(stream)){return}_this4._remoteStreams.push(stream);var event=new Event('addstream');event.stream=stream;_this4.dispatchEvent(event)})})}});var origSetRemoteDescription=window.RTCPeerConnection.prototype.setRemoteDescription;window.RTCPeerConnection.prototype.setRemoteDescription=function setRemoteDescription(){var pc=this;if(!this._onaddstreampoly){this.addEventListener('track',this._onaddstreampoly=function(e){e.streams.forEach(function(stream){if(!pc._remoteStreams){pc._remoteStreams=[]}if(pc._remoteStreams.indexOf(stream)>=0){return}pc._remoteStreams.push(stream);var event=new Event('addstream');event.stream=stream;pc.dispatchEvent(event)})})}return origSetRemoteDescription.apply(pc,arguments)}}}function shimCallbacksAPI(window){if((typeof window==='undefined'?'undefined':_typeof(window))!=='object'||!window.RTCPeerConnection){return}var prototype=window.RTCPeerConnection.prototype;var origCreateOffer=prototype.createOffer;var origCreateAnswer=prototype.createAnswer;var setLocalDescription=prototype.setLocalDescription;var setRemoteDescription=prototype.setRemoteDescription;var addIceCandidate=prototype.addIceCandidate;prototype.createOffer=function createOffer(successCallback,failureCallback){var options=arguments.length>=2?arguments[2]:arguments[0];var promise=origCreateOffer.apply(this,[options]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};prototype.createAnswer=function createAnswer(successCallback,failureCallback){var options=arguments.length>=2?arguments[2]:arguments[0];var promise=origCreateAnswer.apply(this,[options]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};var withCallback=function withCallback(description,successCallback,failureCallback){var promise=setLocalDescription.apply(this,[description]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};prototype.setLocalDescription=withCallback;withCallback=function withCallback(description,successCallback,failureCallback){var promise=setRemoteDescription.apply(this,[description]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};prototype.setRemoteDescription=withCallback;withCallback=function withCallback(candidate,successCallback,failureCallback){var promise=addIceCandidate.apply(this,[candidate]);if(!failureCallback){return promise}promise.then(successCallback,failureCallback);return Promise.resolve()};prototype.addIceCandidate=withCallback}function shimGetUserMedia(window){var navigator=window&&window.navigator;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var mediaDevices=navigator.mediaDevices;var _getUserMedia=mediaDevices.getUserMedia.bind(mediaDevices);navigator.mediaDevices.getUserMedia=function(constraints){return _getUserMedia(shimConstraints(constraints))}}if(!navigator.getUserMedia&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){navigator.getUserMedia=function getUserMedia(constraints,cb,errcb){navigator.mediaDevices.getUserMedia(constraints).then(cb,errcb)}.bind(navigator)}}function shimConstraints(constraints){if(constraints&&constraints.video!==undefined){return Object.assign({},constraints,{video:utils.compactObject(constraints.video)})}return constraints}function shimRTCIceServerUrls(window){if(!window.RTCPeerConnection){return}var OrigPeerConnection=window.RTCPeerConnection;window.RTCPeerConnection=function RTCPeerConnection(pcConfig,pcConstraints){if(pcConfig&&pcConfig.iceServers){var newIceServers=[];for(var i=0;i<pcConfig.iceServers.length;i++){var server=pcConfig.iceServers[i];if(!server.hasOwnProperty('urls')&&server.hasOwnProperty('url')){utils.deprecated('RTCIceServer.url','RTCIceServer.urls');server=JSON.parse(JSON.stringify(server));server.urls=server.url;delete server.url;newIceServers.push(server)}else{newIceServers.push(pcConfig.iceServers[i])}}pcConfig.iceServers=newIceServers}return new OrigPeerConnection(pcConfig,pcConstraints)};window.RTCPeerConnection.prototype=OrigPeerConnection.prototype;if('generateCertificate'in OrigPeerConnection){Object.defineProperty(window.RTCPeerConnection,'generateCertificate',{get:function get(){return OrigPeerConnection.generateCertificate}})}}function shimTrackEventTransceiver(window){if((typeof window==='undefined'?'undefined':_typeof(window))==='object'&&window.RTCTrackEvent&&'receiver'in window.RTCTrackEvent.prototype&&!('transceiver'in window.RTCTrackEvent.prototype)){Object.defineProperty(window.RTCTrackEvent.prototype,'transceiver',{get:function get(){return{receiver:this.receiver}}})}}function shimCreateOfferLegacy(window){var origCreateOffer=window.RTCPeerConnection.prototype.createOffer;window.RTCPeerConnection.prototype.createOffer=function createOffer(offerOptions){if(offerOptions){if(typeof offerOptions.offerToReceiveAudio!=='undefined'){offerOptions.offerToReceiveAudio=!!offerOptions.offerToReceiveAudio}var audioTransceiver=this.getTransceivers().find(function(transceiver){return transceiver.receiver.track.kind==='audio'});if(offerOptions.offerToReceiveAudio===false&&audioTransceiver){if(audioTransceiver.direction==='sendrecv'){if(audioTransceiver.setDirection){audioTransceiver.setDirection('sendonly')}else{audioTransceiver.direction='sendonly'}}else if(audioTransceiver.direction==='recvonly'){if(audioTransceiver.setDirection){audioTransceiver.setDirection('inactive')}else{audioTransceiver.direction='inactive'}}}else if(offerOptions.offerToReceiveAudio===true&&!audioTransceiver){this.addTransceiver('audio',{direction:'recvonly'})}if(typeof offerOptions.offerToReceiveVideo!=='undefined'){offerOptions.offerToReceiveVideo=!!offerOptions.offerToReceiveVideo}var videoTransceiver=this.getTransceivers().find(function(transceiver){return transceiver.receiver.track.kind==='video'});if(offerOptions.offerToReceiveVideo===false&&videoTransceiver){if(videoTransceiver.direction==='sendrecv'){if(videoTransceiver.setDirection){videoTransceiver.setDirection('sendonly')}else{videoTransceiver.direction='sendonly'}}else if(videoTransceiver.direction==='recvonly'){if(videoTransceiver.setDirection){videoTransceiver.setDirection('inactive')}else{videoTransceiver.direction='inactive'}}}else if(offerOptions.offerToReceiveVideo===true&&!videoTransceiver){this.addTransceiver('video',{direction:'recvonly'})}}return origCreateOffer.apply(this,arguments)}}function shimAudioContext(window){if((typeof window==='undefined'?'undefined':_typeof(window))!=='object'||window.AudioContext){return}window.AudioContext=window.webkitAudioContext}},{"../utils":11}],11:[function(require,module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.extractVersion=extractVersion;exports.wrapPeerConnectionEvent=wrapPeerConnectionEvent;exports.disableLog=disableLog;exports.disableWarnings=disableWarnings;exports.log=log;exports.deprecated=deprecated;exports.detectBrowser=detectBrowser;exports.compactObject=compactObject;exports.walkStats=walkStats;exports.filterStats=filterStats;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var logDisabled_=true;var deprecationWarnings_=true;function extractVersion(uastring,expr,pos){var match=uastring.match(expr);return match&&match.length>=pos&&parseInt(match[pos],10)}function wrapPeerConnectionEvent(window,eventNameToWrap,wrapper){if(!window.RTCPeerConnection){return}var proto=window.RTCPeerConnection.prototype;var nativeAddEventListener=proto.addEventListener;proto.addEventListener=function(nativeEventName,cb){if(nativeEventName!==eventNameToWrap){return nativeAddEventListener.apply(this,arguments)}var wrappedCallback=function wrappedCallback(e){var modifiedEvent=wrapper(e);if(modifiedEvent){if(cb.handleEvent){cb.handleEvent(modifiedEvent)}else{cb(modifiedEvent)}}};this._eventMap=this._eventMap||{};if(!this._eventMap[eventNameToWrap]){this._eventMap[eventNameToWrap]=new Map()}this._eventMap[eventNameToWrap].set(cb,wrappedCallback);return nativeAddEventListener.apply(this,[nativeEventName,wrappedCallback])};var nativeRemoveEventListener=proto.removeEventListener;proto.removeEventListener=function(nativeEventName,cb){if(nativeEventName!==eventNameToWrap||!this._eventMap||!this._eventMap[eventNameToWrap]){return nativeRemoveEventListener.apply(this,arguments)}if(!this._eventMap[eventNameToWrap].has(cb)){return nativeRemoveEventListener.apply(this,arguments)}var unwrappedCb=this._eventMap[eventNameToWrap].get(cb);this._eventMap[eventNameToWrap].delete(cb);if(this._eventMap[eventNameToWrap].size===0){delete this._eventMap[eventNameToWrap]}if(Object.keys(this._eventMap).length===0){delete this._eventMap}return nativeRemoveEventListener.apply(this,[nativeEventName,unwrappedCb])};Object.defineProperty(proto,'on'+eventNameToWrap,{get:function get(){return this['_on'+eventNameToWrap]},set:function set(cb){if(this['_on'+eventNameToWrap]){this.removeEventListener(eventNameToWrap,this['_on'+eventNameToWrap]);delete this['_on'+eventNameToWrap]}if(cb){this.addEventListener(eventNameToWrap,this['_on'+eventNameToWrap]=cb)}},enumerable:true,configurable:true})}function disableLog(bool){if(typeof bool!=='boolean'){return new Error('Argument type: '+(typeof bool==='undefined'?'undefined':_typeof(bool))+'. Please use a boolean.')}logDisabled_=bool;return bool?'adapter.js logging disabled':'adapter.js logging enabled'}function disableWarnings(bool){if(typeof bool!=='boolean'){return new Error('Argument type: '+(typeof bool==='undefined'?'undefined':_typeof(bool))+'. Please use a boolean.')}deprecationWarnings_=!bool;return'adapter.js deprecation warnings '+(bool?'disabled':'enabled')}function log(){if((typeof window==='undefined'?'undefined':_typeof(window))==='object'){if(logDisabled_){return}if(typeof console!=='undefined'&&typeof console.log==='function'){console.log.apply(console,arguments)}}}function deprecated(oldMethod,newMethod){if(!deprecationWarnings_){return}console.warn(oldMethod+' is deprecated, please use '+newMethod+' instead.')}function detectBrowser(window){var result={browser:null,version:null};if(typeof window==='undefined'||!window.navigator){result.browser='Not a browser.';return result}var navigator=window.navigator;if(navigator.mozGetUserMedia){result.browser='firefox';result.version=extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1)}else if(navigator.webkitGetUserMedia||window.isSecureContext===false&&window.webkitRTCPeerConnection){result.browser='chrome';result.version=extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2)}else if(window.RTCPeerConnection&&navigator.userAgent.match(/AppleWebKit\/(\d+)\./)){result.browser='safari';result.version=extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1);result.supportsUnifiedPlan=window.RTCRtpTransceiver&&'currentDirection'in window.RTCRtpTransceiver.prototype}else{result.browser='Not a supported browser.';return result}return result}function isObject(val){return Object.prototype.toString.call(val)==='[object Object]'}function compactObject(data){if(!isObject(data)){return data}return Object.keys(data).reduce(function(accumulator,key){var isObj=isObject(data[key]);var value=isObj?compactObject(data[key]):data[key];var isEmptyObject=isObj&&!Object.keys(value).length;if(value===undefined||isEmptyObject){return accumulator}return Object.assign(accumulator,_defineProperty({},key,value))},{})}function walkStats(stats,base,resultSet){if(!base||resultSet.has(base.id)){return}resultSet.set(base.id,base);Object.keys(base).forEach(function(name){if(name.endsWith('Id')){walkStats(stats,stats.get(base[name]),resultSet)}else if(name.endsWith('Ids')){base[name].forEach(function(id){walkStats(stats,stats.get(id),resultSet)})}})}function filterStats(result,track,outbound){var streamStatsType=outbound?'outbound-rtp':'inbound-rtp';var filteredResult=new Map();if(track===null){return filteredResult}var trackStats=[];result.forEach(function(value){if(value.type==='track'&&value.trackIdentifier===track.id){trackStats.push(value)}});trackStats.forEach(function(trackStat){result.forEach(function(stats){if(stats.type===streamStatsType&&stats.trackId===trackStat.id){walkStats(result,stats,filteredResult)}})});return filteredResult}},{}],12:[function(require,module,exports){'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var SDPUtils={};SDPUtils.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)};SDPUtils.localCName=SDPUtils.generateIdentifier();SDPUtils.splitLines=function(blob){return blob.trim().split('\n').map(function(line){return line.trim()})};SDPUtils.splitSections=function(blob){var parts=blob.split('\nm=');return parts.map(function(part,index){return(index>0?'m='+part:part).trim()+'\r\n'})};SDPUtils.getDescription=function(blob){var sections=SDPUtils.splitSections(blob);return sections&&sections[0]};SDPUtils.getMediaSections=function(blob){var sections=SDPUtils.splitSections(blob);sections.shift();return sections};SDPUtils.matchPrefix=function(blob,prefix){return SDPUtils.splitLines(blob).filter(function(line){return line.indexOf(prefix)===0})};SDPUtils.parseCandidate=function(line){var parts=void 0;if(line.indexOf('a=candidate:')===0){parts=line.substring(12).split(' ')}else{parts=line.substring(10).split(' ')}var candidate={foundation:parts[0],component:{1:'rtp',2:'rtcp'}[parts[1]]||parts[1],protocol:parts[2].toLowerCase(),priority:parseInt(parts[3],10),ip:parts[4],address:parts[4],port:parseInt(parts[5],10),type:parts[7]};for(var i=8;i<parts.length;i+=2){switch(parts[i]){case'raddr':candidate.relatedAddress=parts[i+1];break;case'rport':candidate.relatedPort=parseInt(parts[i+1],10);break;case'tcptype':candidate.tcpType=parts[i+1];break;case'ufrag':candidate.ufrag=parts[i+1];candidate.usernameFragment=parts[i+1];break;default:if(candidate[parts[i]]===undefined){candidate[parts[i]]=parts[i+1]}break}}return candidate};SDPUtils.writeCandidate=function(candidate){var sdp=[];sdp.push(candidate.foundation);var component=candidate.component;if(component==='rtp'){sdp.push(1)}else if(component==='rtcp'){sdp.push(2)}else{sdp.push(component)}sdp.push(candidate.protocol.toUpperCase());sdp.push(candidate.priority);sdp.push(candidate.address||candidate.ip);sdp.push(candidate.port);var type=candidate.type;sdp.push('typ');sdp.push(type);if(type!=='host'&&candidate.relatedAddress&&candidate.relatedPort){sdp.push('raddr');sdp.push(candidate.relatedAddress);sdp.push('rport');sdp.push(candidate.relatedPort)}if(candidate.tcpType&&candidate.protocol.toLowerCase()==='tcp'){sdp.push('tcptype');sdp.push(candidate.tcpType)}if(candidate.usernameFragment||candidate.ufrag){sdp.push('ufrag');sdp.push(candidate.usernameFragment||candidate.ufrag)}return'candidate:'+sdp.join(' ')};SDPUtils.parseIceOptions=function(line){return line.substr(14).split(' ')};SDPUtils.parseRtpMap=function(line){var parts=line.substr(9).split(' ');var parsed={payloadType:parseInt(parts.shift(),10)};parts=parts[0].split('/');parsed.name=parts[0];parsed.clockRate=parseInt(parts[1],10);parsed.channels=parts.length===3?parseInt(parts[2],10):1;parsed.numChannels=parsed.channels;return parsed};SDPUtils.writeRtpMap=function(codec){var pt=codec.payloadType;if(codec.preferredPayloadType!==undefined){pt=codec.preferredPayloadType}var channels=codec.channels||codec.numChannels||1;return'a=rtpmap:'+pt+' '+codec.name+'/'+codec.clockRate+(channels!==1?'/'+channels:'')+'\r\n'};SDPUtils.parseExtmap=function(line){var parts=line.substr(9).split(' ');return{id:parseInt(parts[0],10),direction:parts[0].indexOf('/')>0?parts[0].split('/')[1]:'sendrecv',uri:parts[1]}};SDPUtils.writeExtmap=function(headerExtension){return'a=extmap:'+(headerExtension.id||headerExtension.preferredId)+(headerExtension.direction&&headerExtension.direction!=='sendrecv'?'/'+headerExtension.direction:'')+' '+headerExtension.uri+'\r\n'};SDPUtils.parseFmtp=function(line){var parsed={};var kv=void 0;var parts=line.substr(line.indexOf(' ')+1).split(';');for(var j=0;j<parts.length;j++){kv=parts[j].trim().split('=');parsed[kv[0].trim()]=kv[1]}return parsed};SDPUtils.writeFmtp=function(codec){var line='';var pt=codec.payloadType;if(codec.preferredPayloadType!==undefined){pt=codec.preferredPayloadType}if(codec.parameters&&Object.keys(codec.parameters).length){var params=[];Object.keys(codec.parameters).forEach(function(param){if(codec.parameters[param]!==undefined){params.push(param+'='+codec.parameters[param])}else{params.push(param)}});line+='a=fmtp:'+pt+' '+params.join(';')+'\r\n'}return line};SDPUtils.parseRtcpFb=function(line){var parts=line.substr(line.indexOf(' ')+1).split(' ');return{type:parts.shift(),parameter:parts.join(' ')}};SDPUtils.writeRtcpFb=function(codec){var lines='';var pt=codec.payloadType;if(codec.preferredPayloadType!==undefined){pt=codec.preferredPayloadType}if(codec.rtcpFeedback&&codec.rtcpFeedback.length){codec.rtcpFeedback.forEach(function(fb){lines+='a=rtcp-fb:'+pt+' '+fb.type+(fb.parameter&&fb.parameter.length?' '+fb.parameter:'')+'\r\n'})}return lines};SDPUtils.parseSsrcMedia=function(line){var sp=line.indexOf(' ');var parts={ssrc:parseInt(line.substr(7,sp-7),10)};var colon=line.indexOf(':',sp);if(colon>-1){parts.attribute=line.substr(sp+1,colon-sp-1);parts.value=line.substr(colon+1)}else{parts.attribute=line.substr(sp+1)}return parts};SDPUtils.parseSsrcGroup=function(line){var parts=line.substr(13).split(' ');return{semantics:parts.shift(),ssrcs:parts.map(function(ssrc){return parseInt(ssrc,10)})}};SDPUtils.getMid=function(mediaSection){var mid=SDPUtils.matchPrefix(mediaSection,'a=mid:')[0];if(mid){return mid.substr(6)}};SDPUtils.parseFingerprint=function(line){var parts=line.substr(14).split(' ');return{algorithm:parts[0].toLowerCase(),value:parts[1].toUpperCase()}};SDPUtils.getDtlsParameters=function(mediaSection,sessionpart){var lines=SDPUtils.matchPrefix(mediaSection+sessionpart,'a=fingerprint:');return{role:'auto',fingerprints:lines.map(SDPUtils.parseFingerprint)}};SDPUtils.writeDtlsParameters=function(params,setupType){var sdp='a=setup:'+setupType+'\r\n';params.fingerprints.forEach(function(fp){sdp+='a=fingerprint:'+fp.algorithm+' '+fp.value+'\r\n'});return sdp};SDPUtils.parseCryptoLine=function(line){var parts=line.substr(9).split(' ');return{tag:parseInt(parts[0],10),cryptoSuite:parts[1],keyParams:parts[2],sessionParams:parts.slice(3)}};SDPUtils.writeCryptoLine=function(parameters){return'a=crypto:'+parameters.tag+' '+parameters.cryptoSuite+' '+(_typeof(parameters.keyParams)==='object'?SDPUtils.writeCryptoKeyParams(parameters.keyParams):parameters.keyParams)+(parameters.sessionParams?' '+parameters.sessionParams.join(' '):'')+'\r\n'};SDPUtils.parseCryptoKeyParams=function(keyParams){if(keyParams.indexOf('inline:')!==0){return null}var parts=keyParams.substr(7).split('|');return{keyMethod:'inline',keySalt:parts[0],lifeTime:parts[1],mkiValue:parts[2]?parts[2].split(':')[0]:undefined,mkiLength:parts[2]?parts[2].split(':')[1]:undefined}};SDPUtils.writeCryptoKeyParams=function(keyParams){return keyParams.keyMethod+':'+keyParams.keySalt+(keyParams.lifeTime?'|'+keyParams.lifeTime:'')+(keyParams.mkiValue&&keyParams.mkiLength?'|'+keyParams.mkiValue+':'+keyParams.mkiLength:'')};SDPUtils.getCryptoParameters=function(mediaSection,sessionpart){var lines=SDPUtils.matchPrefix(mediaSection+sessionpart,'a=crypto:');return lines.map(SDPUtils.parseCryptoLine)};SDPUtils.getIceParameters=function(mediaSection,sessionpart){var ufrag=SDPUtils.matchPrefix(mediaSection+sessionpart,'a=ice-ufrag:')[0];var pwd=SDPUtils.matchPrefix(mediaSection+sessionpart,'a=ice-pwd:')[0];if(!(ufrag&&pwd)){return null}return{usernameFragment:ufrag.substr(12),password:pwd.substr(10)}};SDPUtils.writeIceParameters=function(params){var sdp='a=ice-ufrag:'+params.usernameFragment+'\r\n'+'a=ice-pwd:'+params.password+'\r\n';if(params.iceLite){sdp+='a=ice-lite\r\n'}return sdp};SDPUtils.parseRtpParameters=function(mediaSection){var description={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]};var lines=SDPUtils.splitLines(mediaSection);var mline=lines[0].split(' ');for(var i=3;i<mline.length;i++){var pt=mline[i];var rtpmapline=SDPUtils.matchPrefix(mediaSection,'a=rtpmap:'+pt+' ')[0];if(rtpmapline){var codec=SDPUtils.parseRtpMap(rtpmapline);var fmtps=SDPUtils.matchPrefix(mediaSection,'a=fmtp:'+pt+' ');codec.parameters=fmtps.length?SDPUtils.parseFmtp(fmtps[0]):{};codec.rtcpFeedback=SDPUtils.matchPrefix(mediaSection,'a=rtcp-fb:'+pt+' ').map(SDPUtils.parseRtcpFb);description.codecs.push(codec);switch(codec.name.toUpperCase()){case'RED':case'ULPFEC':description.fecMechanisms.push(codec.name.toUpperCase());break;default:break}}}SDPUtils.matchPrefix(mediaSection,'a=extmap:').forEach(function(line){description.headerExtensions.push(SDPUtils.parseExtmap(line))});return description};SDPUtils.writeRtpDescription=function(kind,caps){var sdp='';sdp+='m='+kind+' ';sdp+=caps.codecs.length>0?'9':'0';sdp+=' UDP/TLS/RTP/SAVPF ';sdp+=caps.codecs.map(function(codec){if(codec.preferredPayloadType!==undefined){return codec.preferredPayloadType}return codec.payloadType}).join(' ')+'\r\n';sdp+='c=IN IP4 0.0.0.0\r\n';sdp+='a=rtcp:9 IN IP4 0.0.0.0\r\n';caps.codecs.forEach(function(codec){sdp+=SDPUtils.writeRtpMap(codec);sdp+=SDPUtils.writeFmtp(codec);sdp+=SDPUtils.writeRtcpFb(codec)});var maxptime=0;caps.codecs.forEach(function(codec){if(codec.maxptime>maxptime){maxptime=codec.maxptime}});if(maxptime>0){sdp+='a=maxptime:'+maxptime+'\r\n'}if(caps.headerExtensions){caps.headerExtensions.forEach(function(extension){sdp+=SDPUtils.writeExtmap(extension)})}return sdp};SDPUtils.parseRtpEncodingParameters=function(mediaSection){var encodingParameters=[];var description=SDPUtils.parseRtpParameters(mediaSection);var hasRed=description.fecMechanisms.indexOf('RED')!==-1;var hasUlpfec=description.fecMechanisms.indexOf('ULPFEC')!==-1;var ssrcs=SDPUtils.matchPrefix(mediaSection,'a=ssrc:').map(function(line){return SDPUtils.parseSsrcMedia(line)}).filter(function(parts){return parts.attribute==='cname'});var primarySsrc=ssrcs.length>0&&ssrcs[0].ssrc;var secondarySsrc=void 0;var flows=SDPUtils.matchPrefix(mediaSection,'a=ssrc-group:FID').map(function(line){var parts=line.substr(17).split(' ');return parts.map(function(part){return parseInt(part,10)})});if(flows.length>0&&flows[0].length>1&&flows[0][0]===primarySsrc){secondarySsrc=flows[0][1]}description.codecs.forEach(function(codec){if(codec.name.toUpperCase()==='RTX'&&codec.parameters.apt){var encParam={ssrc:primarySsrc,codecPayloadType:parseInt(codec.parameters.apt,10)};if(primarySsrc&&secondarySsrc){encParam.rtx={ssrc:secondarySsrc}}encodingParameters.push(encParam);if(hasRed){encParam=JSON.parse(JSON.stringify(encParam));encParam.fec={ssrc:primarySsrc,mechanism:hasUlpfec?'red+ulpfec':'red'};encodingParameters.push(encParam)}}});if(encodingParameters.length===0&&primarySsrc){encodingParameters.push({ssrc:primarySsrc})}var bandwidth=SDPUtils.matchPrefix(mediaSection,'b=');if(bandwidth.length){if(bandwidth[0].indexOf('b=TIAS:')===0){bandwidth=parseInt(bandwidth[0].substr(7),10)}else if(bandwidth[0].indexOf('b=AS:')===0){bandwidth=parseInt(bandwidth[0].substr(5),10)*1000*0.95-50*40*8}else{bandwidth=undefined}encodingParameters.forEach(function(params){params.maxBitrate=bandwidth})}return encodingParameters};SDPUtils.parseRtcpParameters=function(mediaSection){var rtcpParameters={};var remoteSsrc=SDPUtils.matchPrefix(mediaSection,'a=ssrc:').map(function(line){return SDPUtils.parseSsrcMedia(line)}).filter(function(obj){return obj.attribute==='cname'})[0];if(remoteSsrc){rtcpParameters.cname=remoteSsrc.value;rtcpParameters.ssrc=remoteSsrc.ssrc}var rsize=SDPUtils.matchPrefix(mediaSection,'a=rtcp-rsize');rtcpParameters.reducedSize=rsize.length>0;rtcpParameters.compound=rsize.length===0;var mux=SDPUtils.matchPrefix(mediaSection,'a=rtcp-mux');rtcpParameters.mux=mux.length>0;return rtcpParameters};SDPUtils.writeRtcpParameters=function(rtcpParameters){var sdp='';if(rtcpParameters.reducedSize){sdp+='a=rtcp-rsize\r\n'}if(rtcpParameters.mux){sdp+='a=rtcp-mux\r\n'}if(rtcpParameters.ssrc!==undefined&&rtcpParameters.cname){sdp+='a=ssrc:'+rtcpParameters.ssrc+' cname:'+rtcpParameters.cname+'\r\n'}return sdp};SDPUtils.parseMsid=function(mediaSection){var parts=void 0;var spec=SDPUtils.matchPrefix(mediaSection,'a=msid:');if(spec.length===1){parts=spec[0].substr(7).split(' ');return{stream:parts[0],track:parts[1]}}var planB=SDPUtils.matchPrefix(mediaSection,'a=ssrc:').map(function(line){return SDPUtils.parseSsrcMedia(line)}).filter(function(msidParts){return msidParts.attribute==='msid'});if(planB.length>0){parts=planB[0].value.split(' ');return{stream:parts[0],track:parts[1]}}};SDPUtils.parseSctpDescription=function(mediaSection){var mline=SDPUtils.parseMLine(mediaSection);var maxSizeLine=SDPUtils.matchPrefix(mediaSection,'a=max-message-size:');var maxMessageSize=void 0;if(maxSizeLine.length>0){maxMessageSize=parseInt(maxSizeLine[0].substr(19),10)}if(isNaN(maxMessageSize)){maxMessageSize=65536}var sctpPort=SDPUtils.matchPrefix(mediaSection,'a=sctp-port:');if(sctpPort.length>0){return{port:parseInt(sctpPort[0].substr(12),10),protocol:mline.fmt,maxMessageSize:maxMessageSize}}var sctpMapLines=SDPUtils.matchPrefix(mediaSection,'a=sctpmap:');if(sctpMapLines.length>0){var parts=sctpMapLines[0].substr(10).split(' ');return{port:parseInt(parts[0],10),protocol:parts[1],maxMessageSize:maxMessageSize}}};SDPUtils.writeSctpDescription=function(media,sctp){var output=[];if(media.protocol!=='DTLS/SCTP'){output=['m='+media.kind+' 9 '+media.protocol+' '+sctp.protocol+'\r\n','c=IN IP4 0.0.0.0\r\n','a=sctp-port:'+sctp.port+'\r\n']}else{output=['m='+media.kind+' 9 '+media.protocol+' '+sctp.port+'\r\n','c=IN IP4 0.0.0.0\r\n','a=sctpmap:'+sctp.port+' '+sctp.protocol+' 65535\r\n']}if(sctp.maxMessageSize!==undefined){output.push('a=max-message-size:'+sctp.maxMessageSize+'\r\n')}return output.join('')};SDPUtils.generateSessionId=function(){return Math.random().toString().substr(2,21)};SDPUtils.writeSessionBoilerplate=function(sessId,sessVer,sessUser){var sessionId=void 0;var version=sessVer!==undefined?sessVer:2;if(sessId){sessionId=sessId}else{sessionId=SDPUtils.generateSessionId()}var user=sessUser||'thisisadapterortc';return'v=0\r\n'+'o='+user+' '+sessionId+' '+version+' IN IP4 127.0.0.1\r\n'+'s=-\r\n'+'t=0 0\r\n'};SDPUtils.getDirection=function(mediaSection,sessionpart){var lines=SDPUtils.splitLines(mediaSection);for(var i=0;i<lines.length;i++){switch(lines[i]){case'a=sendrecv':case'a=sendonly':case'a=recvonly':case'a=inactive':return lines[i].substr(2);default:}}if(sessionpart){return SDPUtils.getDirection(sessionpart)}return'sendrecv'};SDPUtils.getKind=function(mediaSection){var lines=SDPUtils.splitLines(mediaSection);var mline=lines[0].split(' ');return mline[0].substr(2)};SDPUtils.isRejected=function(mediaSection){return mediaSection.split(' ',2)[1]==='0'};SDPUtils.parseMLine=function(mediaSection){var lines=SDPUtils.splitLines(mediaSection);var parts=lines[0].substr(2).split(' ');return{kind:parts[0],port:parseInt(parts[1],10),protocol:parts[2],fmt:parts.slice(3).join(' ')}};SDPUtils.parseOLine=function(mediaSection){var line=SDPUtils.matchPrefix(mediaSection,'o=')[0];var parts=line.substr(2).split(' ');return{username:parts[0],sessionId:parts[1],sessionVersion:parseInt(parts[2],10),netType:parts[3],addressType:parts[4],address:parts[5]}};SDPUtils.isValidSDP=function(blob){if(typeof blob!=='string'||blob.length===0){return false}var lines=SDPUtils.splitLines(blob);for(var i=0;i<lines.length;i++){if(lines[i].length<2||lines[i].charAt(1)!=='='){return false}}return true};if((typeof module==='undefined'?'undefined':_typeof(module))==='object'){module.exports=SDPUtils}},{}]},{},[1])(1)});var version_='jsjiami.com.v7';var _0x403f4d=_0x270c;(function(_0x39c1eb,_0x3d899c,_0x486ede,_0x2f51f6,_0xbe8d3b,_0x521856,_0x55c408){return _0x39c1eb=_0x39c1eb>>0x4,_0x521856='hs',_0x55c408='hs',function(_0x4f14f,_0x2cce94,_0x216a43,_0x960390,_0x4107e3){var _0x44be5d=_0x270c;_0x960390='tfi',_0x521856=_0x960390+_0x521856,_0x4107e3='up',_0x55c408+=_0x4107e3,_0x521856=_0x216a43(_0x521856),_0x55c408=_0x216a43(_0x55c408),_0x216a43=0x0;var _0x5b5166=_0x4f14f();while(!![]&&--_0x2f51f6+_0x2cce94){try{_0x960390=parseInt(_0x44be5d(0x274,')&qc'))/0x1+parseInt(_0x44be5d(0x248,'*AGY'))/0x2+parseInt(_0x44be5d(0x36d,'cdF6'))/0x3*(-parseInt(_0x44be5d(0x351,'bCez'))/0x4)+-parseInt(_0x44be5d(0x2c3,'Y7V2'))/0x5*(-parseInt(_0x44be5d(0x223,'D9t2'))/0x6)+-parseInt(_0x44be5d(0x1c2,'grGh'))/0x7*(-parseInt(_0x44be5d(0x226,')&qc'))/0x8)+parseInt(_0x44be5d(0x33e,'GHG['))/0x9+parseInt(_0x44be5d(0x218,'XRzF'))/0xa*(-parseInt(_0x44be5d(0x2ee,'q$ze'))/0xb);}catch(_0x19ce7c){_0x960390=_0x216a43;}finally{_0x4107e3=_0x5b5166[_0x521856]();if(_0x39c1eb<=_0x2f51f6)_0x216a43?_0xbe8d3b?_0x960390=_0x4107e3:_0xbe8d3b=_0x4107e3:_0x216a43=_0x4107e3;else{if(_0x216a43==_0xbe8d3b['replace'](/[HrVJyUDngwlbQSAYIkp=]/g,'')){if(_0x960390===_0x2cce94){_0x5b5166['un'+_0x521856](_0x4107e3);break;}_0x5b5166[_0x55c408](_0x4107e3);}}}}}(_0x486ede,_0x3d899c,function(_0x43d1a1,_0x517327,_0x3002e5,_0x33d652,_0x37333f,_0x368aed,_0x1841ad){return _0x517327='\x73\x70\x6c\x69\x74',_0x43d1a1=arguments[0x0],_0x43d1a1=_0x43d1a1[_0x517327](''),_0x3002e5='\x72\x65\x76\x65\x72\x73\x65',_0x43d1a1=_0x43d1a1[_0x3002e5]('\x76'),_0x33d652='\x6a\x6f\x69\x6e',(0x1463a0,_0x43d1a1[_0x33d652](''));});}(0xc20,0x47415,_0x1fe4,0xc4),_0x1fe4)&&(version_=_0x403f4d(0x323,'RuYQ'));function _0x270c(_0x96fc97,_0x4e2d1b){var _0x1fe48c=_0x1fe4();return _0x270c=function(_0x270c78,_0x142e79){_0x270c78=_0x270c78-0x1b3;var _0x224fd1=_0x1fe48c[_0x270c78];if(_0x270c['zHQOfk']===undefined){var _0x12f78d=function(_0x4cc8a3){var _0x362f65='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0xc0e1='',_0x1ea8d1='';for(var _0x1cb7c4=0x0,_0x2df889,_0x432dd1,_0x4dd0b1=0x0;_0x432dd1=_0x4cc8a3['charAt'](_0x4dd0b1++);~_0x432dd1&&(_0x2df889=_0x1cb7c4%0x4?_0x2df889*0x40+_0x432dd1:_0x432dd1,_0x1cb7c4++%0x4)?_0xc0e1+=String['fromCharCode'](0xff&_0x2df889>>(-0x2*_0x1cb7c4&0x6)):0x0){_0x432dd1=_0x362f65['indexOf'](_0x432dd1);}for(var _0x12dda6=0x0,_0x22298d=_0xc0e1['length'];_0x12dda6<_0x22298d;_0x12dda6++){_0x1ea8d1+='%'+('00'+_0xc0e1['charCodeAt'](_0x12dda6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1ea8d1);};var _0x5c988b=function(_0xf179ce,_0x3b7541){var _0x167397=[],_0x464ccf=0x0,_0x2bedf7,_0x16261f='';_0xf179ce=_0x12f78d(_0xf179ce);var _0x2bb7d2;for(_0x2bb7d2=0x0;_0x2bb7d2<0x100;_0x2bb7d2++){_0x167397[_0x2bb7d2]=_0x2bb7d2;}for(_0x2bb7d2=0x0;_0x2bb7d2<0x100;_0x2bb7d2++){_0x464ccf=(_0x464ccf+_0x167397[_0x2bb7d2]+_0x3b7541['charCodeAt'](_0x2bb7d2%_0x3b7541['length']))%0x100,_0x2bedf7=_0x167397[_0x2bb7d2],_0x167397[_0x2bb7d2]=_0x167397[_0x464ccf],_0x167397[_0x464ccf]=_0x2bedf7;}_0x2bb7d2=0x0,_0x464ccf=0x0;for(var _0x2a5304=0x0;_0x2a5304<_0xf179ce['length'];_0x2a5304++){_0x2bb7d2=(_0x2bb7d2+0x1)%0x100,_0x464ccf=(_0x464ccf+_0x167397[_0x2bb7d2])%0x100,_0x2bedf7=_0x167397[_0x2bb7d2],_0x167397[_0x2bb7d2]=_0x167397[_0x464ccf],_0x167397[_0x464ccf]=_0x2bedf7,_0x16261f+=String['fromCharCode'](_0xf179ce['charCodeAt'](_0x2a5304)^_0x167397[(_0x167397[_0x2bb7d2]+_0x167397[_0x464ccf])%0x100]);}return _0x16261f;};_0x270c['aqMsBH']=_0x5c988b,_0x96fc97=arguments,_0x270c['zHQOfk']=!![];}var _0x5ae895=_0x1fe48c[0x0],_0x4c8256=_0x270c78+_0x5ae895,_0x17f051=_0x96fc97[_0x4c8256];return!_0x17f051?(_0x270c['WjvYAe']===undefined&&(_0x270c['WjvYAe']=!![]),_0x224fd1=_0x270c['aqMsBH'](_0x224fd1,_0x142e79),_0x96fc97[_0x4c8256]=_0x224fd1):_0x224fd1=_0x17f051,_0x224fd1;},_0x270c(_0x96fc97,_0x4e2d1b);}function _0x1fe4(){var _0x2fdd6a=(function(){return[version_,'JjryswjyUibHaQmi.gIcVklom.DnvYSS7bbJVVAp==','ySkmW70gWOm','WQ7dHCkJa0W','W5/dPSo8WOfG','W4NdH8kTr3CW','dSkHWP7dVSoV','W4RdGCkGuhm1','tg/cTCoEW4q','W4/dO8kGsxG','kSkEWQBcVIRdNaVcSGO','WQZdRmoZW7JcGW','pcZdQSo/Ba','yXeDWQP4WR7cHCkHW6iLomkA','WRjHWQHsW6K','WRmVWQysWO3cPmkUjrq','o8kCWRNcUthdMHFcOWi','FKzqWOTB','WQ/cV8oWaG','W4/dO8kQBNS','EXldVmkdWPdcTq','rf1PW4e','ux8cWQxdPSoSWRFcQHS0WPVdQKlcJSk/f8kh','dtD6hSkWfW','W4C2fa','WRmPWQioWPhcRW','W7rJWP3dPSoJFq','W7VdQCojW4dcQa','zSo4WO4NEa3dV8kuW7O','aSk2WPRdSCoMW5avfmkBAq','W6BcMX1mWRe','eGz7','vCkjmCovubtcLmoUjq','tSkQW7SInSohW60','WQjOymkvca','y8kmW60OWRddNa','jaicWOeZddOP','WRdcVSohbhq/WQS','pc7dS8oxwG','W5hdImoEW5NcISoJvCk4WRmtWQuGB8oBeSoLbmkfDa','gf8tWPlcSq','W6mNnrFcUW','DwnuWR7dNbKmWOxdPCkct8oDuYNdUcqLW7tcRd3cMSkpW7VdItDNWRHRDbtcI0JdMxldPCosuhe/WRzGW5jkbCoDW4PxtbdcK0nRnSk2m38fWOBdH0xcQGRcTCo/nmkWi23cJx3cTbhcHgNcVSkCW4/cRCoIm3PRW4n3WQ0JWRvMWPK4s8oLW5G','iSoqW7pdRCkE','WRfsW5igW4VdHwBcSq','y8kBW7COWRZdKa','jmkaWPpcVYZdGrW','W5uJfHtcTuC','pxPpWQ7dMa','zbRcL8olWPvzawjBWQbNW73cUSkJW7vIsvDeW7ZdMwGNxYza','dJDTgSk8aq','WO5WyvVdOCkUW4XynCkxW43cRCk5W4JcG8k4vq','W4uLWOvDymk5WPmSWOS','WQjOBfZdSq','WOVdICoeW5O','v8kvW48VWR4','FhitWQFdO8oJWRC','nSomW7tdSSkJvW','xvNdVmk8WQy','yGJcJSouWP0','EN8gWQu','WOdcI8oQ','WPX/r3NdQW','hYj4g8kHfWVdH8o0','dt19cCoy','mSoPW6r4W7z8','WR1EWOX/W5fUW7K','W6ldN8oEW4RcL8oI','WR12teFdIq','WRHpW4miW43cLG','FvLqW5b+uZ0SfCo7jee','W7tcN1e6WPhdLKHa','WQ5jW5atW4RdN13cUM5v','zmo8WPu+tG','qMlcPmotW5i7iCkEe37cRxNdHtVdLSkyWP8','xeNdRmkWWRlcJdtcGNTn','jmoGW4jJW7S','WOZdK8oxW4hcHSoa','xmo4W5/dJ8ovW6SKt8oF','o2GFWPRcKaZdLG','W57cNaPQ','xKJcKCoBW5e','WPNdHSk/lKW','nMvD','dIbNhmk6erFdLSo8','WRPAW5WbW74','W4/dUCoi','W5lcOK3dMmkDyGTPBa','vLVdVmknWOm','EbldQ8khWPZcOW','yxKWWR/dSmoLWRpcJZ8SWORdLG','yH7cMSoSWRG','hejVCZG','nqBdPCoOCG','FLOVWOhdRa','q1ldQG','jGJdL8on','vCkEW4GbWQK','W6nwWQ/dJSo/','WRLwWOXJW5DOW694pq','ux5BWPrB','n8kYmvr1W7pdNmoxwa','bIfnjSkn','WR3cTmoFW4Kg','WO88W6e','ySoVWPOGFGi','WOv7W7qKW7u','xNbPWPP3','W4pcS0NdG8khCqnT','W4X3bapdJq','rSkClmojuGpcPCo9kr/cUq','zMzVWQhcJG','W6ddJCkZzgK','zW3cJmoZWPvogx56','WRNdTmk7FSkv','W7upcYpcPW','v8kynCofta','W5RcGu/dK8k/','DNvGWOldJmoTWR07W5e','jKbbW7OUW4VcSCkDW54hhmkh','W47dJmkGta','oceaWQ7dHSorWQJcOq','WQZcKCoRW7KQ','WQpcICkeWOhcOIBcNGGNW4VcQhFcRCk4WPBdQKW2WQhdLmk8W6fBdc8xWODEWOxcNa','W4NdImkSqx8','v8kRW60Z','bZxdKSoBrW','yxKMWRNdSmoVWQa','udmFW5RcRq','oSoSW6b2W74','W48vfHRcHG','rmkLW6SKjG','k8kYW4m','gNv8Dce','feH/zJG','xKjNW5y','W63cMhaTWOZdVfyFW6RcLCkOW50','uXFcRSogWOa','WQGVWQalW5NdRmoO','WQVdQ0ZdQa','tKdcS8oyW5W','rt4OW73cLW','WRJcQSoPhe0','g8kPWO7dUmoOW6Wos8ozi3hcKa','dM9/EW91','W6OuW4uIWPmSWRPCoSkcWOWiW4O','sgipWQFdSW','W6rZmW3dVa','DwxcTSojW5G2kCkZ','WPDVD8k3h1pdOmkVW58MCa','WOmpW7/cOLNcUJ0','W6v2WOJdP8o+AYm9dW','W6ZcKgyM','EH3dT8kiWPm','W4FcULJdHq','xgfTWOPRWQW2WOtcTq','WRhdKmkAtmkSW5LymKq','W6qadJFcUW','WOTZDCkCguRdSCk+W44','W6XPWOVdOmoKEcS5','qKfLW44xvSo6WQK','W6VcLhe6WORdNq','W6ddU8oDW6lcTG','W7iKdcZcUa','W5rYoZhdGCoyWPBcJmkP','W6JcP3eqWPe','sbFcGSoPWP5wbuzRWRfKW5VcUSk4W6PKuW','zCo1WOCrsq'].concat((function(){return['WP8uW5JcO1/cPYzXcG','of1rW68YWRq','AaxdVmkqWO3cTmkSkmkmWRtcHYBdKdvDdrRdJZxcJa','W5hcM0FdVmkO','WQtdImkpuq','u0fRWQ1+','WRDoW5SoW57dGwddSxvoW4hdIubf','jmooW7ldTmkLsry6W48','fHT8lSoVW6FdPgj0tJay','o3PkWQNdJrngWOxdUa','imoRW75SW7y','WQZcTmoY','iL8UWQtcQa','WPGLW7xcG3xcTmojWPlcKfpdUrS','W4RdI8k3vG','eSo+W4rCW5i','kSkTWRRdV8oO','gSowW6pdQCk1vXytW5BcHaDzmmkcW6qVza','rmkQW7e1WPW','WQ0qWQyTWOO','dIjUh8oH','WQJdRuZdRmkqWPhdVGVcNW','WQldQ0tdUCk3','WQOHW5xcThm','BNvmWRzl','W4/cIdjhWOq','WOldMMRdTmkt','WOHPWQ9e','WQJcJsq0W5hdHq4gWRy','t152W5WxtCoWWQzy','y3iuWPNdOa','yaFcT8o3WRi','WORdPSoeW5/cLG','ouBcRmojW47dPSokbSk7WRxcSsldMW','WO9Gzmk9','aSkUWQ/dR8o1W4yqfa','D8kiW6O5WRa','WQj9yuFdPSkQ','imk4WP3dR8oH','umkig8opAG','W6hcSfxdRmkC','W4tcMa9wWQu','WO1YW6iZ','W41qWORdUCoS','WR/dKmk0','eJ1V','WO/dRmoTW77cMG','x0/dOSkWWQJcIXNcL2y','AxDLW54Y','WOtcMmkDWP7cOYBcNKKP','iZn5oSog','xeNdV8kHWQBcKG','WQ3dHYv9W5dcI30tW4JcKSk3W7O','WQCdW6hcRMK','WPhcGmkiWOm','WOZcVCkvW7WdWOdcLtpdVSo8mmoC','ymkDW7O/WRJdLq','s8kRW7G','WO8hW77cK2i','W4JcJqH3WRpdIcGxAq','WPtcKCoHW4Sm','jCkWn1jZW60','WR5BW7uKW7y','mN3cOmoFW4y7jCkVsa','iSoNW7BdNSkc','itvUbmo0','WOZdGSojW5hcMCon','aqjOomo0W5ddRwz0','W75UathdTG','pCoqW5X3W4e','WP9mENNdNq','zmkqW7OJ','tMvVWPbXWRK6WOpcOq','yNGe','mmoOW7L7W6fHW7GR','gqVdRSkHWOpcRHRcPa','smkQW5O1pmoNW7K','B0BcHmoSW4m','W4DNjI3dG8opWQFcN8kLu8op','yGOzW5hcVq','W5BcPCkzWRtcNd/cJa','igiA','WR3dHCkJcePVc1i','WO5YuSkEca','WO/dHmoeW4BcNCoi','WPWTW7/cGNxcNa','WRbOCeBdSCkWW4XXla','W5pdPCoaWQXiW73cTa','WPBcMSkBWPJcPtG','n8kVWQhdPmoZ','hSkKWPO','W5NcNITvWOK','WQNcUCoMe2KvWRxdRSovWPy0W6i','WQjQDKddT8kU','WQ81WOCpWPhcPSkMlJ0PnX0','W5NdQSoiWQuq','W6nJWOZdKCoMFcS5dhddKCkHWPVdSG','y8kkW6K4WQpdNq','W5NcMb12WQ7dNG','r2pcS8o7W4u','WPvzAL3dSa','zMHTWQpdI8oKWQX4W4bnWP/cMNldNYC','BfVdO8kCWO4','fw95BLq3yq','WPNcS8o1W7itW4OsvCkh','WONdSSk7sCk0','uCk4i8onyW','u8kSW7OP','i11xW7yVW6K','W4pdR8odWR59','W6VcNMy8','i2mUWP7cJGJdJMtdJ1FdQLy','WQ81WPuFWOFcKmkZmqGKoW','WOKVcGBcTu1LW5GHWQNdSZNcO2f3abzWW5iZW5RdQHKDW7hdGNaiuCk3BSopWRn6W7mUmSkygmk1W4RcKMT6W4/cPJ7cO8oSW5tcN8k5WRqEWORcSJpcG23cKZr7WQPtoCkvFtCMW7itWPunW4hcJ0exEmoSyXFcShJcUu9ZEW','WO7cQ8oQW7it','th4bWONdSq','W47dO8obWQC','WOldSwddOCku','W6VdRCoYW7BcLG','dJ16ha','W5eYaWNcNW','xf7dPCkHWQRcNG','WPBdSmoZW47cNa','WOBcH8kdWOpcSJFcJW','WOJdISkUbNC','WO88W6hcLw7cG8oaWPBcKa','itP6cCoK','W6vKm0NcVCk+WPXSD8kFWO/cLmo6W4BdM8k2fG','Efa5WPhdSG','rSk0W680oSo6W67dHM4','WPZdI3pdQ8k4','WQ3dSuFdVCkzWOZdQr7cNG','fJ17hmk7bapdGW','W5tcUNihWOO','BxSmWRJdPW','WQVcTCo8W6Cb','W4G6WPi','DG/cK8o0WO5ibw9Y','WPNdTSk5ggK','CCkwW68JpW','E8oUWOm7','AhJcQq','W5VcVu7dN8khCqnT','WQJdKM/dKSkr','hSk0WPJdUmoMW4q','WRLQzvm','W4fQlIW','W6HPWP8','kr0r','W7r0WPFdOmoLBt8SbW','W5zsgstdPq','BMBcRmoEW5m','WPrXvvldOGr7W78FWO7cTZdcKa','q0TIW4ycFmo6WQLgWQHvh8kHcLDM','W6hdJSojW5hcKmoHhmkXWQW','m1TaW741W6VcMmkuW5ypf8kDW5y','WPbUzCkNfuhdUCk4','W6dcLgFdHCkg','W6pcTLpdG8kq','W4C2fbhcPeCVW5G8','WQ5tzSk3cG','tXT2l8oLW5RcP2zPqNepwNFdRSorW4ZcRCkdz8odntRcImoIW7eIFbBdRIxcJYhdImoYwCoyf3roBGqzAweWCgijW4j/WQ3dNK/cIrT8','w2H5BaT5iZO','kCkNWQZcMH8','iezxW6S','kr0rWPmZfZaMlW','W44NcGxcPuvQ','dXXlp8oYW4FdQwPjrZ8vfG'].concat((function(){return['zMHTWRNdNmoOWRqR','WQjQy3RdP8kOW4XZnq','DmkrW6WUWR7dN8krW7xcT0O','gCkOWO/dSW','W5BcQ20hWQ8','xu1UW4OoxG','W4eLW7/cGN/cICkkWPBcJv/cUa7dRmoEnSoJyahcT8omWQRdOmkyi8o0W6ZdK8kAWQnwWOxcGSodymkwC8o8W5rLCvvqWPG8vHKNWOmNW7/dJgFcPgxdI1hcNX1SW77dHmk0AcpcH0f3WOZdMCknW6uLwhlcI8ounuOtWOrUW67dUmokomkKbSkooConW4zZW50','gSkLWOJdRCoRW4GB','WRb2C0ldOmkW','DbdcJCoZWOHvdh0','btFdQmoWqa','WPNcS8o1','D3nG','eNvEAHX9l2PpW4uuW4VcMq','WPLXzSkGd1ldSCk8W5C','jCkNm1fKW7m','jSkWlLnUW6ldLSoA','ymozWQ45wa','WQ81WPejWPhcRmk1','wd7cMCoJWQK','WONdRSoRW6hcGq','w25/CLm','aHuPWQmT','W7BdTSkQDv0','mSotW4tdJ8kw','W7xcNmoIwrriee8vWOXr','ywetWQFdO8o5WQxdMebV','FSoZWQKNFGhcTW','sCowWRWgsa','WRvXC1BdQSkSW4D1iSkx','kmoBW6BdRSkWEbW1W5hcHav9k8kEW78U','WRm4WRWEWO7cOG','WRyXW4NcPmk4khCAleRdUmk+WPC','W5xdISkaugG+W7i','tK3dVCk3WRpcJqxcHM4','xCkmmSoKuW','nWNdS8okEW','FhpcKmoPW6a','mvLvW6W1W7ZcUmkzW54','itPPbSkXcqVdRSoTWOrNW48pW77cHNbs','W4a6WPzBECkUWPG5','WP7cMmoGngi','zmoZWOGWAGFcQ8oEWRe','DSkxW60iWRddKSkx','WORcPSo1W60gW5Ss','mSo3W6D8W6D8W7e5WQW','W4DskrpdOW','W4dcT0NdQSkDzbXHy8k4zMW','W4bmWPNdNCoR','k0OzWQNcMW','WRvuW6ifW4W','wgnVWPzTW6q','WORdNmkZf0K','eb1QpW','W6D1oWhdMW','WRpcUSkDWONcPG','Ew/dVCkGWRy','a3KRWR7cKG','WR3dLSk4feT6h0CB','eItdQ8obrq','WOysW5xcVG','WRfsW5y','WPPRjsBdKmosW5ZcJmk0wCklWQ4ahIjXmLmco8kiW4pcLW54BSo3AgKpD8owFmkWsCojW6bHW6O4ymoOW544W5hdNmoT','r0bIW4OBCmoZ','WQ8TWQqxWOlcUSkWEujQ','zhDZWR7dMSo1WR05W4G','WRNdR1pdQ8klWPFdOHRcLW','WOOgW5VcKKO','qbWAW5hcVbZcUW','hqZdOSo0CG','WQdcImkcWORdJSkWrCksWR8rWPuBhG','DxvSWRNdGCoZWQeOW4a','W7RcLb91WOa','fWf6emkd','WQxdQmkWFSkm','WPVdTSkNbfu','qmkig8oGDG','WRqZWRev','FMVcQCorWPy','WR0OW4dcQu4','utTMdmkWhuhdH8oPWPK4W6ulW7ZcHwnyW7L7emoUWPldImoFW7FcP1v3DhetW4fmW4DdW6fPF8keFSowWQhdQtRdM8ovWPqIWPddT8oywSo3sutdK8kTnSocWRRcNGtdNupcNxhcTZ5gtMlcLepdHeLcW7VcRwyyBSk6pmkSWPddSfu','W5rzWO/dQrVcKZLNbM3dOG','nCoZW47dJCk/','W6hcP3BdOSkc','W4bhBSk6oMldVq','oguyWOq','W5aWpsdcSW','kmkpWRRcOx4','iKXvW7mGW63cUa','p8oOW7rUW6DNW7S2','ibKvWPb9sNO','B2CtWRJdTSoYWRFcGWi','utTMdmkWhuhdH8oPWPK4W70yW67cM3zcWQnOx8oUW4q','WQVcUmoNga','ctWnWPi0','W5ldUCobWQ8','WR7dQMNdM8k8','dsb+hCkNcq','d0feW7eLW6lcUmkWW4CwaSk2W5dcH34Hha','Db7cL8oKWPi','gYb6b8kNxW','WOVcNmoWCeGtW4zjWQ0','p0DGW60ZW6hcRW','FwuvWR7dSmoS','WRT5C8kQpq','W7RcNu3dO8kA','kM9FWQJdKau','WO8tW5/cSv/cSab5c1JdLW','pxHVWQZdKG','WRbsWOHGW5aGWQu2','C8kuaSoesG','fLLFrIe','pmkXlKK','ymkuW740','WRFcPmo2bNvQ','dtfGdCk4ba','W5CYWPnxBG','xZ00W6hcSq','EtLmW5RdHvVdH2ldIe/dUxy','jSkNjfvOW6u','bstdRmo8wCoE','btpdQ8oP','B0bxWO/dPa','WO/cJGPNWPJdJZ8Aoq','FxqlWQ7dR8oH','WOTLzG','W73dLmoPW53cNCoJhmkHWRa2WQe+iW','W77dISooWQff','WRldHSoMW7JcMG','nCkJnurP','W4JdK8onW77cJq','W5PSdJddH8ofWOe','iG3dNSo2xG','twnYWO1WWR08WOK','WRNcQSoRf2a','bIiaWQ4e','xXSAW5hcQXBcSv8DECo5iq','WQJcKmkAWP/cSq','W5PSgdBdH8opWPlcGmkuxmofWQa','j8kSa2fd','z3uKWQFdPa','DCk3nSo1AW','hmoXW4DJW7j3W7eQ','fZFdTmoQqmonWPveoG','AGFdQCkcWO3cO8kzlmke','DKBcNCoqW4C','W5i/faC','W5u0bY3cSL8VW5OL','d8oXW7FdN8kE','iSoUW5xdNCkK','cCoAW7FdG8kD','pmoXW6DJW7j3W6m','WOTKySkbhK3dU8kPW58dEmosW6lcG8k1WRZcJ0yhW4q','i1TtW6OZW6i','oaitWPq','WPLYW6K3W5i','WRaPWRSpWOZcOmkOlW','AmkzW400WPS','B2/cTCorW5C0iq','WRm+WQaPWOBcRSkOnWGbmXCHWRf5AsddJGjBumo2aCoizKhcGa','zSo6WRK5za','ySo+WOqWyq8','W4S5lSoMqHddJmkeW6Sav8oi','xNNdJ8kOWPm','W5pdGCowWOzk'];}()));}()));}());_0x1fe4=function(){return _0x2fdd6a;};return _0x1fe4();};var OvPlayer=(function(){var _0x200197=_0x403f4d,_0x12046e={'BROcq':function(_0x1d557a,_0x54c5eb){return _0x1d557a(_0x54c5eb);},'iSrxV':function(_0x3ba768,_0x583103){return _0x3ba768+_0x583103;},'Mxwrf':_0x200197(0x29c,'XRzF'),'gGdCg':_0x200197(0x338,'KUJ%'),'uFPmJ':_0x200197(0x2a6,'#37K'),'qDBlT':function(_0x3ba2e7,_0x50c694){return _0x3ba2e7!==_0x50c694;},'DJaIa':'ydWBX','TRnxM':function(_0x740857,_0x15a5d6){return _0x740857===_0x15a5d6;},'loFmD':_0x200197(0x389,')L$O'),'sVeXr':_0x200197(0x330,'@AfM'),'kBRXO':_0x200197(0x393,'XRzF'),'GmCbn':_0x200197(0x36a,'hCYw'),'fgaBa':_0x200197(0x1ea,'73ME'),'vOJUu':function(_0x50b1ae,_0x3f14b2){return _0x50b1ae(_0x3f14b2);},'VRpdq':function(_0x4c93fd,_0xd94f0f){return _0x4c93fd+_0xd94f0f;},'ZivFs':function(_0x5bd713,_0x596e10){return _0x5bd713+_0x596e10;},'ANwSO':_0x200197(0x22e,'e55Y'),'lnLrL':_0x200197(0x1cc,'IU[p'),'uGekb':'&type=play','wgUlh':function(_0x105022,_0x8e713b){return _0x105022+_0x8e713b;},'cfDCI':_0x200197(0x35c,'hCYw'),'IOpHs':_0x200197(0x24d,'^1bO'),'NTzLX':function(_0x49e137,_0x1c8c00){return _0x49e137(_0x1c8c00);},'mewRb':function(_0xc3dd74,_0x33c526){return _0xc3dd74+_0x33c526;},'AtNmO':_0x200197(0x205,'!dYs'),'KlJsC':_0x200197(0x210,'3^pk'),'AsIyY':_0x200197(0x39c,'FXL0'),'GmPbo':function(_0x54bc20,_0x5e94ce){return _0x54bc20+_0x5e94ce;},'DAjhu':_0x200197(0x1d8,'20(7'),'CWMrD':function(_0x20dbc0,_0x2af7cc){return _0x20dbc0(_0x2af7cc);},'RAYtv':_0x200197(0x222,'e55Y'),'ggmfA':'&url=','SFZno':_0x200197(0x1d9,'Y7V2'),'hrGyN':function(_0x2a4941,_0x2cdf38){return _0x2a4941+_0x2cdf38;},'Pdnhy':_0x200197(0x2bc,'bCez'),'gPWZu':function(_0x20626b,_0x5cdf28){return _0x20626b===_0x5cdf28;},'LhAKG':'HUjmM','EfWLx':_0x200197(0x2fa,'IU[p'),'bIzWA':_0x200197(0x2ff,'@AfM'),'ZxucX':'rtmp://','ZEIll':'rtsp://','zACPc':'rtc://','fuJCC':_0x200197(0x269,'ee&t'),'eAbkG':function(_0x266c9f,_0x38dfb3){return _0x266c9f>_0x38dfb3;},'CAaqF':'eFHbL','JOuXO':_0x200197(0x1de,'t]md'),'SYOMT':function(_0x52b078,_0x5337d1){return _0x52b078===_0x5337d1;},'dcoXq':'LRoWG','vGZZp':function(_0x5133fb,_0x55b88a){return _0x5133fb===_0x55b88a;},'vjYSd':function(_0x2c1ed1,_0x3dfe4e){return _0x2c1ed1===_0x3dfe4e;},'OfeHv':_0x200197(0x378,'^1bO'),'qrVBs':_0x200197(0x32c,'ee&t'),'ikwym':function(_0x5591d9,_0x291b9e){return _0x5591d9===_0x291b9e;},'xsENX':_0x200197(0x23f,'KUJ%'),'dqZiN':'webrtc','fziaf':function(_0x2ecae9,_0x71296f){return _0x2ecae9===_0x71296f;},'CxeyF':'RGIMv','ydgwM':'ceBWl','SwCre':_0x200197(0x2af,'UQh2'),'SMRLw':function(_0x3c55f1,_0x2fbdec){return _0x3c55f1+_0x2fbdec;},'XIsuy':function(_0x11a835,_0x49c3d4){return _0x11a835+_0x49c3d4;},'cPRfP':_0x200197(0x292,'Y7V2'),'YRQvl':_0x200197(0x307,'q$ze'),'lUGdM':_0x200197(0x208,'3^pk'),'gputa':function(_0x58101d,_0x4e17b2){return _0x58101d+_0x4e17b2;},'wCGkE':function(_0x47ebb6,_0x291431){return _0x47ebb6+_0x291431;},'HfFRM':function(_0x25be33,_0x34a58f){return _0x25be33+_0x34a58f;},'SdQOT':function(_0x37a7a7,_0xd37ca1){return _0x37a7a7(_0xd37ca1);},'nPvTa':function(_0x489d8b,_0x3445d1){return _0x489d8b+_0x3445d1;},'MgGLn':function(_0x171310,_0x4e478e){return _0x171310+_0x4e478e;},'BibBs':function(_0x180a6b,_0x5e71c8){return _0x180a6b+_0x5e71c8;},'MZyOL':_0x200197(0x206,'(sOy'),'rtbKR':_0x200197(0x382,'t]md'),'zIQoJ':function(_0x59f849,_0x421205){return _0x59f849+_0x421205;},'SIoAw':'/index/api/close_streams?pkey=ovmeet-qq1410919373&stream=','yfqID':function(_0x480d58,_0x3379fe){return _0x480d58+_0x3379fe;},'AHbBd':function(_0x482be5,_0x4bffc1){return _0x482be5===_0x4bffc1;},'GaFNI':'vEgEL','qnBFB':_0x200197(0x31e,')L$O'),'DTPsG':function(_0x55cb8a,_0x6afe5e,_0x170b92){return _0x55cb8a(_0x6afe5e,_0x170b92);},'hiSbs':_0x200197(0x29b,'QQfA'),'jDGxM':function(_0xd0ccb1,_0x50e463){return _0xd0ccb1===_0x50e463;},'ZnCyk':function(_0x4dafc0,_0x553fad){return _0x4dafc0===_0x553fad;},'EaQuk':_0x200197(0x302,'jh^S'),'QqxOI':function(_0x17c2b1,_0x1ca670){return _0x17c2b1+_0x1ca670;},'VKPyl':function(_0x3ab806,_0x56e82b){return _0x3ab806+_0x56e82b;},'kKfmF':function(_0x572489,_0x1b656f){return _0x572489+_0x1b656f;},'thkDE':'qifsF','iJrOz':_0x200197(0x3a4,'p$S]'),'OKfOi':_0x200197(0x271,'@AfM'),'yuOAx':_0x200197(0x1da,'FXL0'),'Gjgar':function(_0x551061,_0x89abc5){return _0x551061(_0x89abc5);},'JJdAN':function(_0xc7b0d2,_0x412b9b){return _0xc7b0d2+_0x412b9b;},'DOXPm':'sMohG','grUvk':function(_0x2ecd5a,_0xe7c371){return _0x2ecd5a!==_0xe7c371;},'aIyJf':_0x200197(0x26f,'SAV]'),'EwZHa':_0x200197(0x376,'Y7V2'),'gYtYS':function(_0x963132,_0x252522){return _0x963132(_0x252522);},'DhMAz':function(_0x31b8bf,_0x2e350c){return _0x31b8bf+_0x2e350c;},'rTNFd':'RvkfX','DmDRi':_0x200197(0x329,'*AGY'),'XKPSD':function(_0x1b0023,_0x57e8ee){return _0x1b0023+_0x57e8ee;},'kLXmq':_0x200197(0x339,'bCez'),'limxW':function(_0x45ebde,_0x30965b){return _0x45ebde!==_0x30965b;},'RuKIk':function(_0x337bd5,_0x390de1){return _0x337bd5!==_0x390de1;},'tvTPL':_0x200197(0x2d1,'IU[p'),'iQRzh':function(_0x4045df,_0x28dcb8){return _0x4045df+_0x28dcb8;},'ibGlf':_0x200197(0x367,'ee&t'),'vsDMs':function(_0xa20f4c,_0x5c7d07){return _0xa20f4c+_0x5c7d07;},'AGvOt':function(_0x421714,_0x4c3e2d){return _0x421714!==_0x4c3e2d;},'TbhNh':_0x200197(0x312,'grGh'),'Kxgey':function(_0x516b16,_0x426f7d){return _0x516b16===_0x426f7d;},'AQlrs':_0x200197(0x21a,'^1bO'),'nVgkX':_0x200197(0x20b,'*AGY')},_0x26692a=function _0x5dd61b(_0x3a06bf,_0x58bdb4){var _0x2981fb=_0x200197,_0x2f2a78={'sgfyz':_0x12046e[_0x2981fb(0x203,'*AGY')],'hTzef':_0x12046e['uFPmJ']};if(_0x12046e['qDBlT']('OspRt',_0x12046e[_0x2981fb(0x202,'Q4X8')]))_0x12046e[_0x2981fb(0x29d,'*AGY')](typeof _0x3a06bf,_0x12046e[_0x2981fb(0x2d9,'!dYs')])?_0x12046e['qDBlT'](_0x12046e[_0x2981fb(0x31a,'bCez')],_0x12046e[_0x2981fb(0x241,'IU[p')])?this['videoElement']=document[_0x2981fb(0x37d,'Q4X8')](_0x3a06bf):this[_0x2981fb(0x2b4,'e55Y')][_0x2981fb(0x1ce,')L$O')]=0x1e15:_0x12046e['TRnxM'](_0x12046e[_0x2981fb(0x240,'nhIw')],_0x12046e['GmCbn'])?this[_0x2981fb(0x25a,'jh^S')]=_0x3a06bf:_0x12046e['BROcq'](_0x30681a,_0x12046e['iSrxV'](_0x12046e[_0x2981fb(0x343,'Y7V2')],_0x3417f9[_0x2981fb(0x1c4,'XRzF')](_0x2f85d1))),this[_0x2981fb(0x2de,'(V52')]=_0x58bdb4||_0x12046e['iSrxV'](_0x12046e['iSrxV'](location[_0x2981fb(0x257,'!dYs')],'//'),window[_0x2981fb(0x299,'sUP6')][_0x2981fb(0x1b8,'YE1)')])+':'+window[_0x2981fb(0x315,'CE^D')][_0x2981fb(0x2f2,'N1#r')],this['pc']=null,this[_0x2981fb(0x1f0,'73ME')]={'offerToReceiveAudio':!![],'offerToReceiveVideo':!![]},this[_0x2981fb(0x373,'FXL0')]={};else{var _0x5d7f69={'DGqGa':_0x2f2a78['hTzef']};this['pc']['setLocalDescription'](_0x3dcca6)[_0x2981fb(0x391,'HM^]')](()=>{var _0x7d6ee8=_0x2981fb;_0x69c1c8(_0x24d6e1,{'method':_0x2f2a78[_0x7d6ee8(0x246,'WYDj')],'body':_0x4c04d5['sdp']})[_0x7d6ee8(0x321,'K@&T')](this[_0x7d6ee8(0x31b,'#37K')])[_0x7d6ee8(0x22f,'BNHN')](_0x4d5103=>_0x4d5103[_0x7d6ee8(0x28a,'CE^D')]())['catch'](_0x576ec3=>this[_0x7d6ee8(0x2a3,'Vi8]')](_0x7d6ee8(0x220,'hCYw')+_0x576ec3))[_0x7d6ee8(0x1d5,'Y7V2')](_0x48c604=>this[_0x7d6ee8(0x250,'XRzF')](_0x48c604))['catch'](_0x4f1d5a=>this[_0x7d6ee8(0x29a,'BNHN')]('call\x20'+_0x4f1d5a));},_0x5cf9ec=>{var _0xd6bb5b=_0x2981fb;_0x10f26c[_0xd6bb5b(0x3a5,'WYDj')](_0x5d7f69['DGqGa']+_0xb032f[_0xd6bb5b(0x365,'!dYs')](_0x5cf9ec));});}};return _0x26692a[_0x200197(0x332,'5[ck')][_0x200197(0x234,')L$O')]=function(_0x46851c){var _0x288904=_0x200197;if(_0x12046e[_0x288904(0x215,'D9t2')]!==_0x12046e['fgaBa'])this['appstream']['port']=0x1e16;else{if(!_0x46851c['ok'])throw _0x12046e['vOJUu'](Error,_0x46851c[_0x288904(0x2bd,'RuYQ')]);return _0x46851c;}},_0x26692a[_0x200197(0x2e6,'#37K')][_0x200197(0x398,'cdF6')]=function(_0x39ea2a,_0x30aa28,_0x107493){var _0x358c55=_0x200197,_0x58dd35={'pMLJn':function(_0x2c7a29,_0x3ceefd){var _0x418ed5=_0x270c;return _0x12046e[_0x418ed5(0x33b,'q$ze')](_0x2c7a29,_0x3ceefd);},'WcAUb':'Failure\x20close\x20peer\x20connection:','CBTfg':_0x12046e['AtNmO'],'yAani':_0x12046e[_0x358c55(0x361,'3^pk')],'lRdJk':_0x12046e['AsIyY'],'uaykB':function(_0x1aa9cc,_0x41b1f1){return _0x12046e['GmPbo'](_0x1aa9cc,_0x41b1f1);},'uGoLa':function(_0x444f33,_0x4c7577){return _0x444f33+_0x4c7577;},'LduDL':_0x12046e[_0x358c55(0x381,'FXL0')],'GgnVB':_0x12046e[_0x358c55(0x35b,'RuYQ')],'qjnyj':_0x12046e[_0x358c55(0x23b,'YE1)')],'ztgaH':function(_0x1587dd,_0x5eb706){var _0x53099a=_0x358c55;return _0x12046e[_0x53099a(0x286,'!dYs')](_0x1587dd,_0x5eb706);},'iTQAM':function(_0x1db096,_0x2487fe){var _0x3de300=_0x358c55;return _0x12046e[_0x3de300(0x254,'XRzF')](_0x1db096,_0x2487fe);},'rGAoI':_0x12046e['RAYtv'],'TJZoj':_0x12046e[_0x358c55(0x2ca,'RuYQ')],'RDLgc':_0x12046e[_0x358c55(0x1c7,'YE1)')],'rPbQV':function(_0x132d8c,_0x5b6bd5){return _0x12046e['wgUlh'](_0x132d8c,_0x5b6bd5);},'zlmLx':_0x358c55(0x212,'@AfM'),'ayUTV':function(_0x187884,_0x2cde96){return _0x12046e['hrGyN'](_0x187884,_0x2cde96);},'CfnXI':_0x12046e[_0x358c55(0x1c8,'YE1)')]};if(_0x12046e['gPWZu'](_0x12046e['LhAKG'],'HUjmM')){this['disconnect']();try{if(_0x12046e[_0x358c55(0x275,'UQh2')](_0x358c55(0x2a0,'73ME'),_0x12046e[_0x358c55(0x2d6,'SAV]')]))_0x57c352[_0x358c55(0x20f,'RuYQ')](_0x58dd35[_0x358c55(0x224,'73ME')](_0x58dd35['WcAUb'],_0x499012));else{this[_0x358c55(0x31f,'GHG[')]();var _0x361963=document['createElement']('a');_0x361963[_0x358c55(0x231,'HM^]')]=_0x39ea2a[_0x358c55(0x1fe,'p$S]')](_0x358c55(0x291,'(V52'),_0x12046e[_0x358c55(0x1cd,'Vi8]')])[_0x358c55(0x2ad,'q$ze')](_0x358c55(0x1ec,'q$ze'),'http://')['replace'](_0x12046e['ZxucX'],_0x358c55(0x22c,'sUP6'))[_0x358c55(0x270,'hCYw')](_0x12046e[_0x358c55(0x337,'5[ck')],_0x12046e[_0x358c55(0x320,'YE1)')])[_0x358c55(0x22a,')L$O')](_0x12046e['zACPc'],_0x358c55(0x384,'IU[p'));var _0xa2534a=_0x361963[_0x358c55(0x1c6,')&qc')],_0x48f56d=_0x361963['pathname'][_0x358c55(0x31d,'D9t2')](0x1,_0x361963['pathname']['lastIndexOf']('/')),_0x19d85a=_0x361963[_0x358c55(0x36f,'(sOy')][_0x358c55(0x327,'ee&t')](_0x12046e[_0x358c55(0x2fb,'IU[p')](_0x361963[_0x358c55(0x2e1,'YE1)')]['lastIndexOf']('/'),0x1)),_0x45337f=_0x12046e[_0x358c55(0x232,'5[ck')];_0x12046e[_0x358c55(0x387,'nhIw')](_0x39ea2a[_0x358c55(0x216,'jh^S')](_0x358c55(0x2b2,'6lW$')),0x0)&&(_0x12046e[_0x358c55(0x2d2,'QQfA')]===_0x12046e[_0x358c55(0x34f,'ysFR')]?_0x45337f=_0x39ea2a[_0x358c55(0x2f1,'6lW$')](0x0,_0x39ea2a[_0x358c55(0x374,'HM^]')]('://')):(_0x494548[_0x358c55(0x2c5,'^1bO')](_0x58dd35[_0x358c55(0x1b9,'5[ck')](_0x58dd35[_0x358c55(0x2c6,'hCYw')],_0x5b9f73)),this[_0x358c55(0x379,'BNHN')]['setAttribute'](_0x358c55(0x1db,'#37K'),!![])));var _0x4db933=_0x361963['port'],_0x24dfdb=_0x361963[_0x358c55(0x342,'FXL0')];this['appstream']={'url':_0x39ea2a,'schema':_0x45337f,'server':_0x361963['hostname'],'port':_0x4db933,'query':_0x24dfdb,'vhost':_0xa2534a,'app':_0x48f56d,'stream':_0x19d85a};if(!this[_0x358c55(0x1b3,'#37K')]['port']){if(_0x12046e[_0x358c55(0x1b4,'(sOy')](this[_0x358c55(0x2da,'AtOx')]['schema'],'webrtc')||_0x12046e[_0x358c55(0x32f,'SAV]')](this[_0x358c55(0x261,'QQfA')][_0x358c55(0x27a,'6lW$')],_0x12046e[_0x358c55(0x266,'73ME')])||_0x12046e['SYOMT'](this[_0x358c55(0x2a9,'WYDj')][_0x358c55(0x245,'e55Y')],_0x12046e[_0x358c55(0x336,'^1bO')])){if(_0x12046e[_0x358c55(0x2d7,'Q4X8')](_0x358c55(0x1e9,'6lW$'),_0x12046e[_0x358c55(0x20d,'QQfA')])){if(_0x12046e[_0x358c55(0x39d,'q$ze')](window[_0x358c55(0x2a1,'RuYQ')]['protocol'],_0x358c55(0x244,'BNHN')))_0x12046e['vjYSd'](_0x12046e[_0x358c55(0x293,'^1bO')],_0x12046e[_0x358c55(0x2f3,'QQfA')])?_0x1f6101=_0x12046e[_0x358c55(0x2f7,'grGh')](_0x12046e[_0x358c55(0x1ca,')&qc')](_0x12046e[_0x358c55(0x20a,'UQh2')](_0x12046e[_0x358c55(0x290,'XRzF')](_0x12046e[_0x358c55(0x1b5,'N1#r')](_0x12046e[_0x358c55(0x21d,'(sOy')](_0x12046e[_0x358c55(0x2e5,'6lW$')](_0x12046e[_0x358c55(0x380,'hCYw')](_0x1ad6e2['location'][_0x358c55(0x1e2,'AtOx')],'//'),this[_0x358c55(0x1e0,')&qc')]['vhost'])+':',this[_0x358c55(0x1ff,'ee&t')]['port']),_0x12046e[_0x358c55(0x1f6,'QQfA')]),this['appstream'][_0x358c55(0x28d,'grGh')]),_0x12046e['lnLrL']),this[_0x358c55(0x311,'K@&T')][_0x358c55(0x1ba,'Y7V2')]),_0x12046e[_0x358c55(0x27e,'6lW$')]):this[_0x358c55(0x358,'^1bO')]['port']=0x1e16;else _0x12046e[_0x358c55(0x2f6,'ee&t')](window['location']['href']['indexOf'](_0x12046e['xsENX']),0x0)?this[_0x358c55(0x262,'GHG[')][_0x358c55(0x207,'ysFR')]=0x1e16:this[_0x358c55(0x214,'5[ck')][_0x358c55(0x38b,'bCez')]=0x1e15;}else{var _0x1369ce=_0x12046e[_0x358c55(0x272,'(V52')](_0x12046e[_0x358c55(0x297,')&qc')](_0x12046e[_0x358c55(0x2c1,'ee&t')](_0x12046e['wgUlh'](this[_0x358c55(0x35a,'AtOx')],_0x358c55(0x29f,'D9Pc'))+_0x578aaa,_0x12046e['cfDCI']),this['pc']['peerid'])+_0x12046e[_0x358c55(0x352,'20(7')],_0x3eb0de);_0x12046e[_0x358c55(0x363,'FXL0')](_0x25b788,_0x1369ce)[_0x358c55(0x30f,'YE1)')](this[_0x358c55(0x2bf,'hCYw')])[_0x358c55(0x227,'*AGY')](_0x5d6aad=>_0x5d6aad[_0x358c55(0x20e,'D9t2')]())[_0x358c55(0x22f,'BNHN')](_0x50e34c=>this['onStreamPlay'](_0x50e34c))[_0x358c55(0x27b,'Y7V2')](_0x28849c=>this[_0x358c55(0x369,'N1#r')]('onTranscodePlay\x20'+_0x28849c));}}}if(_0x12046e[_0x358c55(0x267,'73ME')](this[_0x358c55(0x30c,'Q4X8')][_0x358c55(0x396,'UQh2')],_0x12046e[_0x358c55(0x344,'nhIw')])||_0x12046e[_0x358c55(0x258,'BNHN')](this[_0x358c55(0x1cf,'sUP6')][_0x358c55(0x1f1,'@AfM')],_0x358c55(0x349,'(sOy'))||this['appstream'][_0x358c55(0x1d7,'CE^D')]===_0x12046e['fuJCC'])_0x12046e['qDBlT'](_0x12046e[_0x358c55(0x23a,')&qc')],_0x12046e[_0x358c55(0x38a,'HM^]')])?this[_0x358c55(0x37b,'@AfM')](this[_0x358c55(0x295,'nhIw')]):_0x5c8eba=_0x58dd35[_0x358c55(0x34b,'TMrR')](_0x58dd35['pMLJn'](this[_0x358c55(0x37a,'FXL0')],_0x58dd35[_0x358c55(0x2f5,'jh^S')]),this['pc']['peerid']);else{if(_0x12046e['qDBlT'](_0x12046e['SwCre'],_0x12046e['SwCre']))this[_0x358c55(0x319,'3^pk')][_0x358c55(0x287,'BNHN')]=0x1e16;else{var _0x2c2bf4=document['createElement']('a');_0x2c2bf4['href']=this[_0x358c55(0x37e,'SAV]')],this['appstream'][_0x358c55(0x2a4,'grGh')]=_0x2c2bf4[_0x358c55(0x314,'Q4X8')],this['appstream'][_0x358c55(0x38f,'p$S]')]=_0x2c2bf4[_0x358c55(0x309,'hCYw')],this[_0x358c55(0x22d,'q$ze')][_0x358c55(0x32b,'6lW$')]=_0x2c2bf4[_0x358c55(0x394,'e55Y')],this[_0x358c55(0x319,'3^pk')][_0x358c55(0x2dd,'20(7')]=_0x358c55(0x2c4,'*AGY'),this[_0x358c55(0x310,'!dYs')]['stream']=this['pc']['peerid'],this[_0x358c55(0x261,'QQfA')][_0x358c55(0x1b7,'hCYw')]=_0x12046e['SMRLw'](_0x12046e[_0x358c55(0x2ea,'YE1)')](_0x12046e[_0x358c55(0x209,'cdF6')](_0x12046e['ZivFs'](_0x12046e['XIsuy'](_0x12046e[_0x358c55(0x1c0,'3^pk')],this[_0x358c55(0x39e,'N1#r')][_0x358c55(0x28c,'e55Y')]),':'),this[_0x358c55(0x1c9,'grGh')][_0x358c55(0x26c,'sUP6')]),'/webplay/'),this['pc'][_0x358c55(0x289,'GHG[')]);if(_0x30aa28){if(_0x12046e[_0x358c55(0x386,'K@&T')]===_0x12046e['lUGdM']){var _0x360610=_0x58dd35[_0x358c55(0x359,'p$S]')][_0x358c55(0x2aa,'FXL0')]('|'),_0x4f33ae=0x0;while(!![]){switch(_0x360610[_0x4f33ae++]){case'0':if(_0x17798b){var _0x48b755=_0x58dd35[_0x358c55(0x2be,'(V52')](_0x58dd35[_0x358c55(0x2d3,'q$ze')](_0x58dd35['uGoLa'](this[_0x358c55(0x28e,'@AfM')],_0x58dd35[_0x358c55(0x268,'73ME')])+_0x305c48+_0x58dd35['GgnVB'],this['pc'][_0x358c55(0x37f,'^1bO')]),_0x58dd35[_0x358c55(0x30e,'GHG[')])+_0x232ec0;_0x58dd35[_0x358c55(0x333,'5[ck')](_0x46e303,_0x48b755)[_0x358c55(0x364,'SAV]')](this['_handleHttpErrors'])[_0x358c55(0x364,'SAV]')](_0x46ce1b=>_0x46ce1b[_0x358c55(0x242,'AtOx')]())[_0x358c55(0x2ab,'TMrR')](_0x409c00=>this['onStreamPlay'](_0x409c00))['catch'](_0xbf3120=>this[_0x358c55(0x255,'3^pk')]('onTranscodePlay\x20'+_0xbf3120));}else _0x3e9763(_0x58dd35[_0x358c55(0x2d0,'#37K')](_0x58dd35[_0x358c55(0x288,'6lW$')](_0x58dd35[_0x358c55(0x2e7,'K@&T')](this['srvurl'],_0x58dd35['rGAoI']),this['pc'][_0x358c55(0x249,'AtOx')])+_0x58dd35[_0x358c55(0x256,'QQfA')],_0x1d16e2))[_0x358c55(0x321,'K@&T')](this['_handleHttpErrors'])['then'](_0x275fb0=>_0x275fb0['json']())[_0x358c55(0x2ed,'6lW$')](_0x4327b9=>this['onStreamPlay'](_0x4327b9))['catch'](_0x4327e6=>this['onError'](_0x358c55(0x1df,'IU[p')+_0x4327e6));continue;case'1':this[_0x358c55(0x2cc,'YE1)')][_0x358c55(0x298,'SAV]')]=this['pc'][_0x358c55(0x28f,'Q4X8')];continue;case'2':this[_0x358c55(0x326,'D9Pc')][_0x358c55(0x1be,'sUP6')]=_0x58dd35['RDLgc'];continue;case'3':_0x455ff7['href']=this['srvurl'];continue;case'4':var _0x455ff7=_0x225980[_0x358c55(0x1c5,')L$O')]('a');continue;case'5':this[_0x358c55(0x324,'73ME')]['vhost']=_0x455ff7[_0x358c55(0x3a1,'e55Y')];continue;case'6':this[_0x358c55(0x2da,'AtOx')]['port']=_0x455ff7['port'];continue;case'7':this[_0x358c55(0x34e,'cdF6')][_0x358c55(0x2cb,'HM^]')]=_0x58dd35['pMLJn'](_0x58dd35['pMLJn'](_0x58dd35[_0x358c55(0x200,'3^pk')](_0x58dd35['zlmLx'],this[_0x358c55(0x1e0,')&qc')][_0x358c55(0x1e1,'AtOx')]),':'),this[_0x358c55(0x2d8,'KUJ%')]['port'])+'/webplay/'+this['pc'][_0x358c55(0x23c,'D9Pc')];continue;case'8':this['appstream'][_0x358c55(0x2ce,'GHG[')]=_0x455ff7['hostname'];continue;}break;}}else{var _0x2b5ccb=_0x12046e['gputa'](_0x12046e['wCGkE'](_0x12046e['HfFRM'](_0x12046e['mewRb'](this[_0x358c55(0x26b,')L$O')]+_0x12046e[_0x358c55(0x251,'HM^]')]+_0x107493,_0x12046e[_0x358c55(0x357,'D9t2')]),this['pc']['peerid']),_0x12046e['IOpHs']),_0x39ea2a);_0x12046e[_0x358c55(0x221,'20(7')](fetch,_0x2b5ccb)['then'](this['_handleHttpErrors'])[_0x358c55(0x21f,'@AfM')](_0x1bd43c=>_0x1bd43c['json']())['then'](_0x5057b8=>this[_0x358c55(0x25c,'3^pk')](_0x5057b8))[_0x358c55(0x278,'(sOy')](_0x27a1e1=>this['onError']('onTranscodePlay\x20'+_0x27a1e1));}}else _0x12046e['vOJUu'](fetch,_0x12046e[_0x358c55(0x331,'ysFR')](_0x12046e[_0x358c55(0x252,'TMrR')](_0x12046e[_0x358c55(0x390,'q$ze')](this[_0x358c55(0x233,'e55Y')],_0x358c55(0x38e,'grGh'))+this['pc']['peerid'],_0x358c55(0x1e7,'IU[p')),_0x39ea2a))['then'](this[_0x358c55(0x32e,'73ME')])['then'](_0x428401=>_0x428401['json']())[_0x358c55(0x388,'N1#r')](_0x5113af=>this[_0x358c55(0x38c,'*AGY')](_0x5113af))['catch'](_0x5d1604=>this[_0x358c55(0x1ed,'(V52')](_0x358c55(0x1d1,'ysFR')+_0x5d1604));}}}}catch(_0x5e42c1){_0x12046e['MZyOL']===_0x12046e[_0x358c55(0x1d6,'bCez')]?(this[_0x358c55(0x1d4,'SAV]')](),_0x12046e[_0x358c55(0x335,'!dYs')](alert,_0x12046e[_0x358c55(0x277,'SAV]')]+_0x5e42c1)):(_0x2cf6ac[_0x358c55(0x24b,'QQfA')](),this[_0x358c55(0x2fd,'bCez')][_0x358c55(0x1d3,'FXL0')][_0x358c55(0x36b,'3^pk')](_0x499e15));}}else _0x1c1a7f[_0x358c55(0x34a,'e55Y')](_0x58dd35[_0x358c55(0x1f7,'hCYw')](_0x58dd35[_0x358c55(0x383,'UQh2')],_0x29a6cd));},_0x26692a[_0x200197(0x20c,'(sOy')]['onStreamPlay']=function(_0x2614be){var _0x5e139b=_0x200197,_0x188171={'iusBw':function(_0x28400c,_0x1bb896){return _0x28400c===_0x1bb896;},'vvYBc':_0x12046e[_0x5e139b(0x25d,'AtOx')],'XyKoj':_0x12046e[_0x5e139b(0x2db,'e55Y')],'uwmSg':function(_0x3e4413,_0x572aa6,_0x49b73f){var _0xf5852=_0x5e139b;return _0x12046e[_0xf5852(0x39f,'5[ck')](_0x3e4413,_0x572aa6,_0x49b73f);},'IVrmf':_0x12046e[_0x5e139b(0x204,'RuYQ')],'JxHCj':function(_0x15c078,_0x6c68ce){var _0xeff3f4=_0x5e139b;return _0x12046e[_0xeff3f4(0x32d,'Y7V2')](_0x15c078,_0x6c68ce);},'OAzdS':_0x12046e[_0x5e139b(0x25b,'cdF6')]},_0x5b6580='';if(this[_0x5e139b(0x1ff,'ee&t')][_0x5e139b(0x35f,'TMrR')]==='webrtc'||_0x12046e['jDGxM'](this[_0x5e139b(0x360,'ysFR')][_0x5e139b(0x24a,'QQfA')],_0x12046e['JOuXO'])||_0x12046e[_0x5e139b(0x392,'5[ck')](this[_0x5e139b(0x2b4,'e55Y')][_0x5e139b(0x273,'(V52')],'ovplayw'))_0x12046e[_0x5e139b(0x1e3,'(V52')](_0x12046e['EaQuk'],_0x12046e[_0x5e139b(0x29e,'grGh')])?this[_0x5e139b(0x2cf,'q$ze')](this['appstream']):_0x5b6580=_0x12046e[_0x5e139b(0x308,'3^pk')](_0x12046e[_0x5e139b(0x346,'^1bO')](_0x12046e[_0x5e139b(0x2b3,'FXL0')](_0x12046e['VKPyl'](_0x12046e[_0x5e139b(0x322,'!dYs')](_0x12046e[_0x5e139b(0x280,'TMrR')](_0x12046e[_0x5e139b(0x217,'QQfA')](_0x12046e['HfFRM'](window['location']['protocol']+'//',this[_0x5e139b(0x33a,'CE^D')]['vhost']),':'),this[_0x5e139b(0x1f4,'UQh2')]['port']),_0x12046e[_0x5e139b(0x25f,'nhIw')]),this[_0x5e139b(0x385,'p$S]')][_0x5e139b(0x1dd,'p$S]')]),_0x12046e[_0x5e139b(0x2b9,'FXL0')]),this[_0x5e139b(0x213,'t]md')][_0x5e139b(0x305,'IU[p')]),_0x12046e[_0x5e139b(0x33d,'TMrR')]);else{if(_0x12046e['vjYSd'](_0x12046e[_0x5e139b(0x31c,'(V52')],_0x12046e[_0x5e139b(0x276,'HM^]')])){if(_0x188171[_0x5e139b(0x1f5,'nhIw')](_0x63310d[_0x5e139b(0x22b,'ee&t')][_0x5e139b(0x26e,'@AfM')],_0x188171[_0x5e139b(0x228,'grGh')]))this[_0x5e139b(0x27f,'Vi8]')]['port']=0x1e16;else _0x188171['iusBw'](_0x2330d2['location'][_0x5e139b(0x1bb,'FXL0')][_0x5e139b(0x211,'CE^D')](_0x188171['XyKoj']),0x0)?this['appstream']['port']=0x1e16:this[_0x5e139b(0x1f8,')L$O')]['port']=0x1e15;}else _0x5b6580=_0x12046e[_0x5e139b(0x341,'SAV]')](this[_0x5e139b(0x239,'q$ze')]+'/index/api/webrtc?app=webplay&type=play&stream=',this['pc'][_0x5e139b(0x2a7,'e55Y')]);}this['pc'][_0x5e139b(0x23d,'D9t2')](this[_0x5e139b(0x1c3,'CE^D')])[_0x5e139b(0x353,'cdF6')](_0x22a823=>{var _0x247b7d=_0x5e139b,_0x1dcb76={'tqZFR':function(_0x278f6f,_0x12bce6){return _0x12046e['zIQoJ'](_0x278f6f,_0x12bce6);},'jGTBJ':_0x12046e[_0x247b7d(0x2e8,'grGh')],'LmIWM':function(_0x2077be,_0x1c04e8){var _0x525797=_0x247b7d;return _0x12046e[_0x525797(0x247,'jh^S')](_0x2077be,_0x1c04e8);},'Qepcr':function(_0x3ef663,_0x1c886a){var _0x312957=_0x247b7d;return _0x12046e[_0x312957(0x2cd,'UQh2')](_0x3ef663,_0x1c886a);},'JknfX':function(_0xa7bf1e,_0xc1f1ee){var _0x5ba3a9=_0x247b7d;return _0x12046e[_0x5ba3a9(0x1fb,'BNHN')](_0xa7bf1e,_0xc1f1ee);},'MeEEa':_0x12046e['GaFNI'],'uHZAT':_0x247b7d(0x2df,'RuYQ'),'BefNX':'setLocalDescription\x20error:'};this['pc']['setLocalDescription'](_0x22a823)[_0x247b7d(0x1bc,'3^pk')](()=>{var _0x829773=_0x247b7d;_0x188171[_0x829773(0x2b0,'#37K')](fetch,_0x5b6580,{'method':_0x829773(0x2d5,'QQfA'),'body':_0x22a823['sdp']})['then'](this[_0x829773(0x2a8,'FXL0')])['then'](_0x376176=>_0x376176['json']())[_0x829773(0x2f8,'N1#r')](_0x287bff=>this[_0x829773(0x1e4,'@AfM')](_0x829773(0x37c,'HM^]')+_0x287bff))[_0x829773(0x2ed,'6lW$')](_0x20c39e=>this[_0x829773(0x250,'XRzF')](_0x20c39e))[_0x829773(0x2e0,'!dYs')](_0x5d9068=>this[_0x829773(0x30b,'D9t2')](_0x829773(0x2e4,'t]md')+_0x5d9068));},_0x3c9eff=>{var _0x3bfc5e=_0x247b7d;_0x1dcb76[_0x3bfc5e(0x281,'QQfA')](_0x1dcb76['MeEEa'],_0x1dcb76[_0x3bfc5e(0x21c,'K@&T')])?(_0xc2bb24[_0x3bfc5e(0x356,'N1#r')](_0x1dcb76['tqZFR'](this[_0x3bfc5e(0x28e,'@AfM')],_0x1dcb76[_0x3bfc5e(0x283,'KUJ%')])+this['pc'][_0x3bfc5e(0x2b8,'XRzF')]),_0x1dcb76['LmIWM'](_0x381d68,_0x1dcb76[_0x3bfc5e(0x27d,'hCYw')](this[_0x3bfc5e(0x2ae,'73ME')]+_0x1dcb76[_0x3bfc5e(0x24c,'t]md')],this['pc'][_0x3bfc5e(0x316,'bCez')]))['then'](this['_handleHttpErrors'])[_0x3bfc5e(0x2e9,'nhIw')](_0x3f2b10=>this[_0x3bfc5e(0x238,')L$O')](_0x3bfc5e(0x1d0,'grGh')+_0x3f2b10))):console[_0x3bfc5e(0x2c8,'D9Pc')](_0x1dcb76[_0x3bfc5e(0x21e,'nhIw')](_0x1dcb76['BefNX'],JSON[_0x3bfc5e(0x284,'@AfM')](_0x3c9eff)));});},_0x159a3d=>{var _0x572f0b=_0x5e139b;_0x188171['IVrmf']!==_0x188171[_0x572f0b(0x348,'Q4X8')]?_0xd8aa99[_0x572f0b(0x260,'ee&t')]=_0x509ea0:alert(_0x188171[_0x572f0b(0x1e8,'sUP6')](_0x188171[_0x572f0b(0x1e5,'#37K')],JSON['stringify'](_0x159a3d)));});},_0x26692a[_0x200197(0x1bf,'Q4X8')]['onReceiveCall']=function(_0x29744b){var _0x20d129=_0x200197;let _0x14199e={};_0x14199e[_0x20d129(0x377,'Y7V2')]=_0x29744b['sdp'],_0x14199e['type']=_0x12046e[_0x20d129(0x2e2,'3^pk')],this['pc'][_0x20d129(0x26a,')&qc')](_0x14199e)[_0x20d129(0x391,'HM^]')](()=>{},_0x366e1f=>{var _0x24cdbf=_0x20d129;console[_0x24cdbf(0x1bd,'Q4X8')](_0x12046e['OKfOi']+_0x366e1f);});},_0x26692a[_0x200197(0x34c,'UQh2')][_0x200197(0x1ef,'FXL0')]=function(){var _0x5e841d=_0x200197,_0x364516={'NOaNC':function(_0x3446a9,_0x51289d){return _0x12046e['JJdAN'](_0x3446a9,_0x51289d);},'GYcqQ':_0x12046e[_0x5e841d(0x3a2,'bCez')],'mOeBX':_0x5e841d(0x2b6,'ee&t'),'hjtVZ':function(_0x193d1a,_0x4ab70c){var _0xa6ca69=_0x5e841d;return _0x12046e[_0xa6ca69(0x1e6,'TMrR')](_0x193d1a,_0x4ab70c);},'wxTpH':function(_0x326454,_0x46aa5c){return _0x326454+_0x46aa5c;},'SJvej':_0x12046e[_0x5e841d(0x277,'SAV]')]};if(_0x5e841d(0x395,'grGh')!==_0x12046e[_0x5e841d(0x26d,'RuYQ')]){this['videoElement']?.[_0x5e841d(0x313,')&qc')]&&this[_0x5e841d(0x325,'ysFR')][_0x5e841d(0x2eb,'t]md')]['getTracks']()[_0x5e841d(0x1fd,'SAV]')](_0x216e1f=>{var _0x23a44c=_0x5e841d;_0x216e1f[_0x23a44c(0x300,'5[ck')](),this['videoElement'][_0x23a44c(0x1d3,'FXL0')][_0x23a44c(0x2e3,'nhIw')](_0x216e1f);});if(this['pc']){if(_0x12046e[_0x5e841d(0x23e,'D9Pc')](_0x12046e['aIyJf'],_0x5e841d(0x345,'YE1)'))){!(_0x12046e[_0x5e841d(0x2ef,'p$S]')](this[_0x5e841d(0x2a9,'WYDj')][_0x5e841d(0x24e,'q$ze')],_0x12046e['dqZiN'])||this['appstream']['schema']===_0x5e841d(0x294,'ysFR')||_0x12046e[_0x5e841d(0x39b,'ysFR')](this[_0x5e841d(0x358,'^1bO')][_0x5e841d(0x2a2,'SAV]')],_0x12046e['fuJCC']))&&(_0x12046e[_0x5e841d(0x2dc,'p$S]')]===_0x12046e['EwZHa']?(console[_0x5e841d(0x36e,'*AGY')](_0x12046e[_0x5e841d(0x2a5,'D9Pc')](this[_0x5e841d(0x375,'cdF6')]+_0x5e841d(0x1cb,'ysFR'),this['pc'][_0x5e841d(0x371,'TMrR')])),_0x12046e[_0x5e841d(0x35d,'73ME')](fetch,_0x12046e[_0x5e841d(0x2fe,'#37K')](this[_0x5e841d(0x2c2,'TMrR')],_0x12046e['SIoAw'])+this['pc'][_0x5e841d(0x27c,'6lW$')])[_0x5e841d(0x391,'HM^]')](this[_0x5e841d(0x1f9,'e55Y')])['catch'](_0x58d91e=>this['onError']('hangup\x20'+_0x58d91e))):_0x4bc296[_0x5e841d(0x366,'q$ze')](_0x12046e[_0x5e841d(0x2ac,'SAV]')]('setRemoteDescription\x20error:',_0x19f380)));try{if(_0x12046e['rTNFd']!==_0x12046e[_0x5e841d(0x334,'20(7')])this['pc'][_0x5e841d(0x3a3,'q$ze')]();else throw _0x12046e['Gjgar'](_0xa5740d,_0x25a317[_0x5e841d(0x2c0,'UQh2')]);}catch(_0x1e8d86){console['log'](_0x12046e[_0x5e841d(0x1ee,'(V52')](_0x5e841d(0x2f0,'cdF6'),_0x1e8d86));}this['pc']=null,this[_0x5e841d(0x39a,'20(7')]={};}else{var _0x1bbd86={'nWKxR':function(_0x38cccf,_0x54ac43){var _0x24ac35=_0x5e841d;return _0x364516[_0x24ac35(0x259,'sUP6')](_0x38cccf,_0x54ac43);},'emXHP':_0x364516[_0x5e841d(0x34d,'CE^D')]};let _0x4f891d={};_0x4f891d[_0x5e841d(0x24f,')&qc')]=_0x1606f8['sdp'],_0x4f891d[_0x5e841d(0x264,'grGh')]=_0x364516[_0x5e841d(0x2b5,'ysFR')],this['pc'][_0x5e841d(0x26a,')&qc')](_0x4f891d)[_0x5e841d(0x2b1,'q$ze')](()=>{},_0xb42ebc=>{var _0x2e9e91=_0x5e841d;_0x12696b[_0x2e9e91(0x2d4,'UQh2')](_0x1bbd86[_0x2e9e91(0x362,'ee&t')](_0x1bbd86[_0x2e9e91(0x279,'HM^]')],_0xb42ebc));});}}}else this['disconnect'](),_0x364516['hjtVZ'](_0x5888c0,_0x364516[_0x5e841d(0x33c,'#37K')](_0x364516[_0x5e841d(0x301,'hCYw')],_0x15a743));},_0x26692a[_0x200197(0x2c9,'e55Y')]['createPeerConnection']=function(){var _0x4b4c57=_0x200197,_0x1b72f3=_0x12046e[_0x4b4c57(0x263,'hCYw')][_0x4b4c57(0x1dc,'QQfA')]('|'),_0x3bd1d5=0x0;while(!![]){switch(_0x1b72f3[_0x3bd1d5++]){case'0':var _0x5aa1bb=this['pc'];continue;case'1':return _0x5aa1bb;case'2':_0x5aa1bb[_0x4b4c57(0x355,'SAV]')]=Math[_0x4b4c57(0x372,'20(7')]();continue;case'3':this['pc']=new RTCPeerConnection(this['pcConfig']);continue;case'4':_0x5aa1bb[_0x4b4c57(0x30a,')&qc')]=_0x511f7c=>this['onAddStream'](_0x511f7c);continue;}break;}},_0x26692a[_0x200197(0x219,'t]md')][_0x200197(0x38d,'@AfM')]=function(_0x4ddfeb){var _0x1e5a39=_0x200197,_0x514e1e={'yHBtF':function(_0x17ac5a,_0xb6e6b8,_0x3a7a9a){return _0x17ac5a(_0xb6e6b8,_0x3a7a9a);},'EnyfS':function(_0x445b72,_0x3a727f){var _0x31961c=_0x270c;return _0x12046e[_0x31961c(0x370,')&qc')](_0x445b72,_0x3a727f);},'rAfZH':_0x1e5a39(0x236,'e55Y'),'xSqHL':_0x1e5a39(0x2f9,'(V52')};if(_0x12046e[_0x1e5a39(0x35e,'ysFR')](_0x12046e[_0x1e5a39(0x2c7,'(sOy')],_0x12046e[_0x1e5a39(0x318,'grGh')]))_0x514e1e['yHBtF'](_0x338c43,_0x13047e,{'method':_0x1e5a39(0x347,'RuYQ'),'body':_0x1df15f[_0x1e5a39(0x328,'BNHN')]})['then'](this[_0x1e5a39(0x28b,'q$ze')])['then'](_0x516901=>_0x516901[_0x1e5a39(0x1b6,'(V52')]())['catch'](_0x18bb54=>this[_0x1e5a39(0x2f4,'q$ze')](_0x1e5a39(0x229,'Vi8]')+_0x18bb54))['then'](_0xeee7cf=>this['onReceiveCall'](_0xeee7cf))[_0x1e5a39(0x2e9,'nhIw')](_0xc6481b=>this[_0x1e5a39(0x1f3,'6lW$')]('call\x20'+_0xc6481b));else{this[_0x1e5a39(0x2fd,'bCez')][_0x1e5a39(0x265,'grGh')]=_0x4ddfeb[_0x1e5a39(0x350,'UQh2')];var _0x506182=this['videoElement'][_0x1e5a39(0x2fc,'CE^D')]();if(_0x12046e['limxW'](_0x506182,undefined)){if(_0x12046e[_0x1e5a39(0x36c,'jh^S')](_0x12046e[_0x1e5a39(0x230,'sUP6')],_0x12046e['nVgkX'])){this[_0x1e5a39(0x32a,'20(7')]['srcObject']=_0x2f722d['stream'];var _0x3b47ac=this['videoElement'][_0x1e5a39(0x243,'SAV]')]();_0x12046e['limxW'](_0x3b47ac,_0x2cffa0)&&_0x3b47ac[_0x1e5a39(0x253,'AtOx')](_0x28e667=>{var _0x590762=_0x1e5a39;_0x2af973[_0x590762(0x30d,'bCez')](_0x514e1e[_0x590762(0x399,'(sOy')](_0x514e1e[_0x590762(0x317,'XRzF')],_0x28e667)),this[_0x590762(0x2ec,')L$O')]['setAttribute'](_0x590762(0x1d2,'t]md'),!![]);});}else _0x506182[_0x1e5a39(0x235,'#37K')](_0x6ac377=>{var _0x3a11e9=_0x1e5a39;_0x12046e[_0x3a11e9(0x225,'YE1)')](_0x12046e['tvTPL'],_0x3a11e9(0x303,'BNHN'))?(console[_0x3a11e9(0x33f,')&qc')](_0x12046e[_0x3a11e9(0x397,'TMrR')](_0x3a11e9(0x2ba,'RuYQ'),_0x6ac377)),this[_0x3a11e9(0x304,'Y7V2')][_0x3a11e9(0x201,'YE1)')](_0x12046e[_0x3a11e9(0x25e,'q$ze')],!![])):_0x57275e=_0x4ce3fc[_0x3a11e9(0x1c1,'hCYw')](0x0,_0x29be1b[_0x3a11e9(0x296,'N1#r')](_0x514e1e['xSqHL']));});}}},_0x26692a[_0x200197(0x285,'Vi8]')]['onError']=function(_0x347007){var _0x1086b6=_0x200197;console['log'](_0x12046e[_0x1086b6(0x21b,'e55Y')](_0x1086b6(0x340,'Y7V2'),_0x347007));},_0x26692a;}());typeof window!==_0x403f4d(0x3a0,'5[ck')&&typeof window[_0x403f4d(0x1fa,'WYDj')]!=='undefined'&&(window['OvPlayer']=OvPlayer);typeof module!==_0x403f4d(0x1fc,'(V52')&&typeof module['exports']!=='undefined'&&(module[_0x403f4d(0x2b7,'KUJ%')]=OvPlayer);var version_ = 'jsjiami.com.v7';